/* COLORS, SCHEMES AND VARIABLES */

/* DARK BY DEFAULT */
:root {
  /* --c-glass: #bbbbbc; */
  --c-glass: #333;
  --c-light: #fff;
  --c-dark: #000;
  --c-content: #e1e1e1;
  --c-action: #03d5ff;
  --c-bg: #1b1b1d;
  --glass-reflex-dark: 2;
  --glass-reflex-light: 0.3;
  --saturation: 150%;
  --c-text: #fff;
  --blur-lg: blur(2px);

  --glass-box: inset 0 0 0 1px
      color-mix(
        in srgb,
        var(--c-light) calc(var(--glass-reflex-light) * 10%),
        transparent
      ),
    inset 1.8px 3px 0px -2px color-mix(in srgb, var(--c-light)
          calc(var(--glass-reflex-light) * 90%), transparent),
    inset -2px -2px 0px -2px color-mix(in srgb, var(--c-light)
          calc(var(--glass-reflex-light) * 80%), transparent),
    inset -3px -8px 1px -6px color-mix(in srgb, var(--c-light)
          calc(var(--glass-reflex-light) * 60%), transparent),
    inset -0.3px -1px 4px 0px
      color-mix(
        in srgb,
        var(--c-dark) calc(var(--glass-reflex-dark) * 12%),
        transparent
      ),
    inset -1.5px 2.5px 0px -2px
      color-mix(
        in srgb,
        var(--c-dark) calc(var(--glass-reflex-dark) * 20%),
        transparent
      ),
    inset 0px 3px 4px -2px color-mix(in srgb, var(--c-dark)
          calc(var(--glass-reflex-dark) * 20%), transparent),
    inset 2px -6.5px 1px -4px
      color-mix(
        in srgb,
        var(--c-dark) calc(var(--glass-reflex-dark) * 10%),
        transparent
      ),
    0px 1px 5px 0px
      color-mix(
        in srgb,
        var(--c-dark) calc(var(--glass-reflex-dark) * 10%),
        transparent
      ),
    0px 6px 16px 0px
      color-mix(
        in srgb,
        var(--c-dark) calc(var(--glass-reflex-dark) * 8%),
        transparent
      )
    !important;
  }

/* LIGHT THEME */
@media (prefers-color-scheme: light) {
  :root[data-theme="auto"] {
    /* --c-glass: #bbbbbc; */
    --c-glass: #fff;
    --c-light: #fff;
    --c-dark: #000;
    --c-content: #224;
    --c-action: #0052f5;
    --c-bg: #e8e8e9;
    --glass-reflex-dark: 1;
    --glass-reflex-light: 1;
    --saturation: 150%;
    --c-text: #000;
  }
}

:root[data-theme="light"] {
  /* --c-glass: #bbbbbc; */
  --c-glass: #fff;
  --c-light: #fff;
  --c-dark: #000;
  --c-content: #224;
  --c-action: #0052f5;
  --c-bg: #e8e8e9;
  --glass-reflex-dark: 1;
  --glass-reflex-light: 1;
  --saturation: 150%;
  --c-text: #000;
}

.eui-liquid-glass {
  backdrop-filter: blur(4px) !important;
  -webkit-backdrop-filter: blur(4px) !important;

  box-shadow: inset 0 0 0 1px
      color-mix(
        in srgb,
        var(--c-light) calc(var(--glass-reflex-light) * 10%),
        transparent
      ),
    inset 1.8px 3px 0px -2px color-mix(in srgb, var(--c-light)
          calc(var(--glass-reflex-light) * 90%), transparent),
    inset -2px -2px 0px -2px color-mix(in srgb, var(--c-light)
          calc(var(--glass-reflex-light) * 80%), transparent),
    inset -3px -8px 1px -6px color-mix(in srgb, var(--c-light)
          calc(var(--glass-reflex-light) * 60%), transparent),
    inset -0.3px -1px 4px 0px
      color-mix(
        in srgb,
        var(--c-dark) calc(var(--glass-reflex-dark) * 12%),
        transparent
      ),
    inset -1.5px 2.5px 0px -2px
      color-mix(
        in srgb,
        var(--c-dark) calc(var(--glass-reflex-dark) * 20%),
        transparent
      ),
    inset 0px 3px 4px -2px color-mix(in srgb, var(--c-dark)
          calc(var(--glass-reflex-dark) * 20%), transparent),
    inset 2px -6.5px 1px -4px
      color-mix(
        in srgb,
        var(--c-dark) calc(var(--glass-reflex-dark) * 10%),
        transparent
      ),
    0px 1px 5px 0px
      color-mix(
        in srgb,
        var(--c-dark) calc(var(--glass-reflex-dark) * 10%),
        transparent
      ),
    0px 6px 16px 0px
      color-mix(
        in srgb,
        var(--c-dark) calc(var(--glass-reflex-dark) * 8%),
        transparent
      )
    !important;
}

@supports not (hanging-punctuation:first) {
  .eui-liquid-glass {
    backdrop-filter: url(#displacementFilter) var(--blur-lg) saturate(150%)  !important;
  }
}

.popup-close[data-round=true].eui-liquid-glass, 
#inventory__close[data-round=true].eui-liquid-glass {
  border: 1px solid rgba(255, 255, 255, .2) !important;
  /* background: rgba(255, 255, 255, .12) !important; */
  background-color: color-mix(in srgb, var(--c-glass) 12%, transparent) !important;
  /* background-color: color-mix(in srgb, var(--sbgcui-branding-color, var(--c-glass)) 15%, transparent) !important; */
  /* color: var(--text) !important; */
  color: var(--c-text) !important;
  text-shadow: 0px 0px 1px black;
}

#attack-menu.eui-liquid-glass {
  backdrop-filter: url(#displacementFilter) var(--blur-lg) saturate(150%) !important;
}

@supports not (hanging-punctuation:first) {
  #attack-menu.eui-liquid-glass {
    backdrop-filter: url(#displacementFilter) var(--blur-lg) saturate(150%) !important;
  }
}

#attack-menu.eui-liquid-glass::after {
  width: 30%;
  height: 30%;
  box-shadow: 0px 0px 5px 5px var(--sbgcui-branding-color, var(--selection))
}

#attack-menu.eui-liquid-glass.sbgcui_attack-menu-rotate::after {
  box-shadow: none;
}

#ops.eui-liquid-glass,
#attack-menu.eui-liquid-glass,
.ol-control.eui-liquid-glass,
#eui-hide.eui-liquid-glass {
  background-color: color-mix(in srgb, var(--c-glass) 12%, transparent) !important;
}

.settings-section__item select, 
.settings-section__item button:not(.popup-close),
#leaderboard__term-select,
/* .inventory__controls button,
.inventory__controls select,
.inventory__controls input[type="search"], */
.profile.popup button,
#eui-console-execute,
#eui-console-close,
/* .discover-mod, */
.notifs__entry-view,
.slider-button__nav,
#draw-slider-confirm,
#draw-slider-close,
.sbgcui_settings-buttons_wrp>button,
.sbgcui_settings select,
.cui-clear-cache-button,
button#sbgcui_forceclear,
.sbgcui_button_reset.sbgcui_log-close,
.sbgcui_log-buttons>button 
{
  border: 1px solid rgba(255, 255, 255, .2) !important;
  border-radius: 100px;
  backdrop-filter: var(--blur5) !important;
  background-color: color-mix(in srgb, var(--sbgcui-branding-color, var(--selection)) 10%, transparent) !important;
  color: var(--text) !important;
  box-shadow: var(--glass-box);
}

/* RESET BACKGROUND */
#eui-console-close,
#sbgcui_settings-save, 
#sbgcui_settings-close, 
.sbgcui_button_reset.sbgcui_log-close,
.sbgcui_log-buttons>button {
  background-color: color-mix(in srgb, var(--c-glass) 12%, transparent) !important;
}

/* LIQUID GLASS FROM STYLES */
.slider-button__nav,
#draw-slider-confirm,
#draw-slider-close,
#sbgcui_settings-save, 
#sbgcui_settings-close, 
.sbgcui_button_reset.sbgcui_log-close,
.sbgcui_log-buttons>button {
  backdrop-filter: url(#displacementFilter) var(--blur-lg) saturate(150%) !important;
}

/* CANCEL BUTTONS */
#draw-slider-close,
.cui-clear-cache-button,
button#sbgcui_forceclear {
  background-color: color-mix(in srgb, var(--accent) 12%, transparent) !important;
}

input[type='range'] {
  border: 1px solid rgba(255, 255, 255, .2) !important;
  border-radius: 100px;
  box-shadow: var(--glass-box);
  background-color: color-mix(in srgb, var(--sbgcui-branding-color, var(--selection)) 10%, transparent) !important;
}

/*

.settings-section__item select, 
.settings-section__item button:not(.popup-close),
#leaderboard__term-select,
.inventory__controls button,
.inventory__controls select,
.inventory__controls input[type="search"],
.profile.popup button,
#eui-console-execute,
.discover-mod,
.sbgcui_settings-buttons_wrp>button, .sbgcui_settings select

*/