// ==UserScript==
// @name SBG Enhanced UI
// @description Enhanced UI for SBG
// @version 6.5.1
// @author https://github.com/egorantonov
// @homepage https://github.com/egorantonov/sbg-enhanced#readme
// @supportURL https://github.com/egorantonov/sbg-enhanced/issues
// @match https://sbg-game.ru/app/*
// @downloadURL https://github.com/egorantonov/sbg-enhanced/releases/latest/download/eui.user.js
// @grant none
// @icon64URL https://raw.githubusercontent.com/egorantonov/sbg-enhanced/master/assets/script/64.png
// @iconURL https://raw.githubusercontent.com/egorantonov/sbg-enhanced/master/assets/script/64.png
// @license MIT
// @namespace https://github.com/egorantonov/sbg-enhanced
// @updateURL https://github.com/egorantonov/sbg-enhanced/releases/latest/download/eui.user.js
// ==/UserScript==

(()=>{var __webpack_modules__={127:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>s});var r=o(601),n=o.n(r),i=o(314),a=o.n(i)()(n());a.push([e.id," html,body{overflow:hidden}.info.popup,.profile.popup{transition:all ease-in-out .25s}.info.popup.hidden,.profile.popup.hidden{display:flex!important;filter:opacity(0);transform:translateX(calc(100% + 10px))}@media (max-width:425px){.info.popup.hidden,.profile.popup.hidden{transform:translate(calc(100% + 10px),-50%)}}.inventory.popup{transition:all ease-in-out .25s}.inventory.popup.hidden{display:flex!important;filter:opacity(0);transform:translate(calc(-150% - 10px),-50%)}.leaderboard.popup,.settings.popup,.notifs.popup{transition:all ease-in-out .25s}.leaderboard.popup.hidden,.settings.popup.hidden,.notifs.popup.hidden{display:flex!important;filter:opacity(0);transform:translate(-50%,calc(-50vh - 100%))}.attack-slider-wrp{transition:all ease-in-out .25s}.attack-slider-wrp.hidden{display:flex!important;filter:opacity(0);transform:translateY(calc(25vh + 100%))}.layers-config.popup,.score.popup{visibility:visible;transition:visibility 0s,filter ease-in-out .25s}.layers-config.popup.hidden,.score.popup.hidden{display:block!important;filter:opacity(0);visibility:hidden}",""]);const s=a},365:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>b});var r=o(601),n=o.n(r),i=o(314),a=o.n(i),s=o(417),l=o.n(s),c=new URL(o(968),o.b),d=new URL(o(662),o.b),p=a()(n()),u=l()(c),g=l()(d);p.push([e.id,`@font-face{font-family:JoystixProportional;font-style:normal;font-size:small;font-weight:400;src:url(https://raw.githubusercontent.com/egorantonov/sbg-enhanced/master/assets/fonts/JoystixProportional-Regular.otf) format("opentype")}:root{--radius0:0;--radius5:0;--radius10:0;--on:url(${u});--off:url(${g})}body,input,select,button,#bottom #i-share::after,#bottom #i-copy-pos::after{font-family:JoystixProportional,ui-monospace,monospace}h3{font-size:20px}.catalysers-list__level,.cores-list__level{font-size:20px}.catalysers-list__amount,.cores-list__amount,.settings-section__item,.pr-stat{font-size:14px}.info.popup>h3{font-size:16px}.i-stat__core{font-size:14px;border-width:2px}.i-stat__core-info>span,.deploy-slider-error{font-size:12px}.i-stat__entry{font-size:11px}#bottom button,#bottom #i-share::after,#bottom #i-copy-pos::after,span.profile-link{font-size:10px}input[type='range'],select,.toastify,#attack-menu,#attack-menu::after,.i-stat__core,.cores-list__level,.catalysers-list__level,.refs-list__image>div,.splide__arrow,.splide__pagination__page,.game-menu>button,.inventory__content,.inventory__content[data-tab="3"] .inventory__item-controls::after,.inventory__item-controls>button,.inventory__item-left,.popup-close[data-round=true],#inventory__close,#inventory__close[data-round=true],.level-pill,.sbgcui_log button,#eui-console-execute,.sbgcui_log-tags span{border-radius:var(--radius0)!important}#self-info__coord,.sbgcui_speed,.leaderboard__list td:nth-child(3){font-family:'JoystixProportional';font-size:10px}#eui-hide,.bottom-container #ops{min-height:58px}#eui-hide{left:65px;font-size:24px;bottom:-15px;box-shadow:none}#eui-speedometer{font-size:16px!important;font-weight:400!important;border-radius:0!important}.sbgcui_log-console{font-family:monospace;font-size:16px}.sbgcui_log-close,.sbgcui_log-buttons>button,#sbgcui_batch_remove,#sbgcui_hide_viewer{border-radius:var(--radius0)}.sbgcui_discharge_timeout{font-size:11px}`,""]);const b=p},870:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>v});var r=o(601),n=o.n(r),i=o(314),a=o.n(i),s=o(417),l=o.n(s),c=new URL(o(129),o.b),d=new URL(o(727),o.b),p=new URL(o(433),o.b),u=new URL(o(369),o.b),g=a()(n()),b=l()(c),m=l()(d),h=l()(p),f=l()(u);g.push([e.id,`:root{--radius10:10px;--radius5:5px;--border-eui:1px solid #7777;--button-height:70px;--margin:10px;--btn-text:#fff;--mono-selection-color:#fff;--mono-selection-bg-color:#ccc7;--button-filter:none;--on:url(${b});--off:url(${m});--draw:url(${h});--repair:url(${f})}@media (prefers-color-scheme:light){:root[data-theme="auto"]{--btn-text:#000;--mono-selection-color:var(--sbgcui-branding-color,#000);--mono-selection-bg-color:#3337}}:root[data-theme="light"]{--btn-text:#000;--mono-selection-color:var(--sbgcui-branding-color,#000);--mono-selection-bg-color:#3337}body,input,select,button{font-family:'Noto Sans','Manrope',sans-serif}.draw-slider-wrp .splide__slide.is-active .refs-list__image>div{box-shadow:inset -8px 0 0px -5px var(--mono-selection-color),inset -10px 0 8px -6px var(--mono-selection-bg-color),inset 8px 0 0px -5px var(--mono-selection-color),inset 10px 0 8px -6px var(--mono-selection-bg-color)}#catalysers-list>.splide__slide.is-active,#cores-list>.splide__slide.is-active{box-shadow:inset -8px 0 0px -5px var(--mono-selection-color),inset -10px 0 8px -6px var(--mono-selection-bg-color),inset 8px 0 0px -5px var(--mono-selection-color),inset 10px 0 8px -6px var(--mono-selection-bg-color);border-radius:var(--radius10);-webkit-backdrop-filter:var(--blur5);backdrop-filter:var(--blur5)}.splide__pagination{padding-bottom:10px}.splide__pagination__page{background:var(--sbgcui-branding-color,var(--progress))}.splide__pagination__page.is-active{background:var(--selection)}.popup{border-radius:0!important;border-width:0!important;padding:10px!important;background-color:var(--background-transp);-webkit-backdrop-filter:var(--blur5);backdrop-filter:var(--blur5)}.popup.layers-config,.popup.score{min-width:250px;border-radius:var(--radius10)!important;overflow:hidden;box-shadow:0 0 5px 2px #7774}.popup.layers-config{padding:0!important}.layers-config__header{padding:10px 10px 0 10px}.layers-config__list{padding:0 10px}.layers-config__buttons button{min-height:50px;width:100%;border:none!important;text-transform:uppercase;font-size:1.1em!important;font-weight:bold}.layers-config__buttons button.popup-close{color:var(--btn-text);background-color:var(--accent)}.info.popup{padding-bottom:0!important}.info.popup .popup-close[data-round=true]{width:100%!important}@media (max-width:425px){.i-image-box{max-height:unset!important;min-height:unset!important}}#i-image{border-radius:var(--radius10)}.deploy-slider-wrp{margin:0}#deploy-slider{border:none!important;border-radius:var(--radius10);overflow:hidden;min-height:var(--button-height)!important;display:grid!important;grid-template-columns:2fr 1fr;grid-template-areas:"Slider Deploy";margin:0;direction:var(--sbgcui-point-btns-rtl,'ltr')}#deploy-slider-track{padding:5px 0;grid-area:Slider;background:linear-gradient(-90deg,#7772,#7772,#7777);direction:ltr}#deploy{grid-area:Deploy;background-color:var(--sbgcui-branding-color,var(--selection));border:none;transition:background-color .25s linear}#deploy:disabled{background:linear-gradient(90deg,#7772,#7777)}#discover{background-color:var(--sbgcui-branding-color,var(--selection));min-height:var(--button-height);border:none;border-radius:var(--radius10);box-shadow:none;margin-bottom:var(--margin);width:100%;transition:background-color .25s linear;text-transform:uppercase}#discover:disabled{color:#7777;background-color:#7777!important;overflow:hidden}.discover-progress{background-color:var(--selection)}#discover[data-time]:after{transform:translate(0,-25px)!important}#bottom{margin:0 -10px;width:calc(2 * var(--margin) + 100%);display:flex;justify-content:space-around;border-top-left-radius:var(--radius10);border-top-right-radius:var(--radius10);overflow:hidden}#bottom button{width:100%;border:none!important;border-radius:0!important;background-color:var(--sbgcui-branding-color,var(--selection));font-weight:bold;font-size:small;min-height:var(--button-height);min-width:calc(20% - 1px);position:unset;display:flex;flex-direction:column;align-items:center;justify-content:space-evenly}#bottom button,#discover:not([disabled]),#deploy:not([disabled]){color:#fff;filter:var(--button-filter)}#eui-hide{min-width:40px;border-radius:var(--radius10);box-shadow:0 0 5px 2px #7774;padding:0;backdrop-filter:var(--blur5)}#eui-repair::before{-webkit-mask:var(--repair);mask:var(--repair);background-color:currentColor;display:block;content:"";width:100%;height:40%;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-position:center;mask-position:center;-webkit-mask-size:contain;mask-size:contain}#draw::before{-webkit-mask:var(--draw);mask:var(--draw);background-color:currentColor;display:block;content:"";width:100%;height:40%;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-position:center;mask-position:center;-webkit-mask-size:contain;mask-size:contain}#draw:disabled,#draw[sbgcui-possible-lines="0"]{color:#ccc7}#bottom #i-share,#bottom #i-copy-pos{font-size:24px}#bottom #i-share::after,#bottom #i-copy-pos::after{font-family:'Roboto Condensed','Manrope',sans-serif;font-weight:bold;font-size:small}#bottom #i-share::after{content:attr(data-i18n)}#bottom #i-copy-pos::after{content:attr(data-i18n)}#cores-list>.splide__slide,#catalysers-list>.splide__slide{max-width:70px!important}.attack-slider-wrp{border-radius:var(--radius10);overflow:hidden;box-shadow:0 0 5px 2px #7774}#attack-slider{backdrop-filter:var(--blur5);border-radius:0!important}.attack-slider-buttons{width:100%;margin:0!important;padding:0!important}#attack-slider-fire,#eui-attack-slider-fire{height:50px;max-width:100%;border:none;padding:0;margin:0;color:#000;background-color:#F90;text-transform:uppercase;font-weight:bold}.draw-slider-wrp{width:calc(100% - 10px)}#draw-slider{padding-bottom:10px;border-radius:var(--radius10) var(--radius10) 0 0;border:var(--border-eui);border-bottom:none!important;background-color:var(--background-transp);backdrop-filter:var(--blur5)}.draw-slider-buttons{gap:15px 0;padding:0;margin:0}.draw-slider-buttons button{font-weight:bolder;border:var(--border-eui)}#draw-slider-confirm{border-bottom-left-radius:var(--radius10);border-right:none;border-top:none}#draw-slider-close{border-bottom-right-radius:var(--radius10);border-left:none;border-top:none;color:var(--btn-text);background-color:var(--accent)}.sbgcui_drawslider_sort{border-radius:var(--radius10) 0 0 var(--radius10);border-right:none!important}.sbgcui_drawslider_fit{border-radius:0 var(--radius10) var(--radius10) 0;border-left:none!important}.popup-close[data-round=true],#inventory__close[data-round=true]{color:#fff!important;border-color:var(--sbgcui-branding-color,var(--selection))!important;background-color:var(--sbgcui-branding-color,var(--selection))}.settings-section__item select,.settings-section__item button:not(.popup-close),#leaderboard__term-select,.inventory__controls button,.inventory__controls select,.inventory__controls input[type="search"],.profile.popup button,#eui-console-execute,.sbgcui_settings-buttons_wrp>button,.sbgcui_settings select{color:#fff!important;border-radius:var(--radius5);border:none!important;background-color:var(--sbgcui-branding-color,var(--selection));filter:var(--button-filter);padding:5px;text-transform:uppercase}.settings-section__item select option:checked{background-color:#111c}#inventory-delete[data-del="1"]{color:var(--btn-text)!important;background-color:var(--accent)}.inventory__controls input[type="search"]::placeholder{color:#fff}.inventory__controls{min-height:45px}.inventory__content[data-tab="3"]~.inventory__controls{gap:.1em;overflow:auto;border-radius:var(--radius5)}.inventory__content[data-tab="3"]~.inventory__controls>*{border-radius:0!important}input[type="range"]{padding:0!important}.inventory__manage-amount{width:300px;box-shadow:3px 4px 7px -2px var(--shadow);border:none!important;border-radius:var(--radius10);overflow:hidden;padding:10px 0 0 0!important;z-index:2}.inventory__ma-counter{padding:.5em}.inventory__ma-counter button{border:none!important;border-radius:3px;min-height:40px;min-width:40px}.inventory__ma-counter input{border-style:solid;border-color:#7773;background-color:#7773;border-radius:3px;padding-left:5px}.inventory__ma-buttons{gap:0}.inventory__ma-buttons button{text-transform:uppercase;font-weight:bolder;min-height:50px}.inventory__ma-cancel{border:none!important;width:100%}.inventory__ma-delete{border:none!important;width:100%;color:var(--btn-text);background-color:var(--accent)}.inventory__item-controls button{background-color:var(--sbgcui-branding-color,var(--selection));border-style:solid;border-color:var(--sbgcui-branding-color,var(--selection));color:#fff}.inventory__ic-manage{border-top-left-radius:5px;border-top-right-radius:5px}.inventory__ic-view{border-bottom-left-radius:5px;border-bottom-right-radius:5px}.inventory__content{border-radius:10px 10px 0 0;border-bottom:none;border-color:var(--sbgcui-branding-color,var(--selection))}#inventory__close{bottom:120px;position:absolute;right:50%;top:initial;transform:translateX(50%);z-index:2}.inventory__header{order:2;margin-bottom:10px;padding:0;gap:0}.inventory__controls{order:3}.inventory__tabs{gap:0;padding:0;background-color:#7774;border-bottom-left-radius:var(--radius10);border-bottom-right-radius:var(--radius10)}.inventory__tab{flex-grow:1;justify-content:center;border-top:2px solid var(--border);border-top-color:var(--sbgcui-branding-color,var(--selection));border-bottom-left-radius:var(--radius10);border-bottom-right-radius:var(--radius10);min-height:45px}.inventory__tab.active{color:var(--sbgcui-branding-color,var(--selection));background-color:var(--background-transp);border-top:none!important;border-bottom:2px solid;border-color:var(--sbgcui-branding-color,var(--selection))}.settings-section__item input[type="checkbox"],.sbgcui_settings input[type="checkbox"]{width:0;height:0;filter:none;-webkit-appearance:none;-moz-appearance:none;appearance:none}.settings-section__item input[type="checkbox"]::before,.sbgcui_settings input[type="checkbox"]::before{content:"";-webkit-mask:var(--on);mask:var(--on);-webkit-mask-size:contain;mask-size:contain;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-position:center;mask-position:center;display:block;height:2.5em;width:2.5em;background-color:var(--sbgcui-branding-color,var(--selection));transform:translate(-1.25em,-1.25em);transition:background-color .15s ease-in-out}.settings-section__item input[type="checkbox"]:not(:checked)::before,.sbgcui_settings input[type="checkbox"]:not(:checked)::before{-webkit-mask:var(--off);mask:var(--off);-webkit-mask-size:contain;mask-size:contain;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-position:center;mask-position:center;display:block;height:2.5em;width:2.5em;background-color:#777c}.settings-section__item input[type="checkbox"]:disabled::before,.sbgcui_settings input[type="checkbox"]:disabled::before{opacity:.5}#eui-links-opacity:disabled,#eui-regions-opacity:disabled{filter:grayscale(1)}.settings-section__header,.pr-stats__section-header{color:var(--sbgcui-branding-color,var(--selection))}.ol-control{background-color:var(--background-transp)!important;padding:.25em;box-shadow:0 0 5px 2px #7774;backdrop-filter:var(--blur5);left:unset!important}.ol-zoom.ol-control{right:0!important;border-radius:var(--radius10) 0 0 var(--radius10)}.sbgcui_toolbar-control{left:0!important;border-radius:0 var(--radius10) var(--radius10) 0}.bottom-container #ops{background-color:var(--background-transp)!important;left:-5px;bottom:-15px;border:none!important;border-radius:0 var(--radius10) 0 0;box-shadow:0 0 5px 2px #7774;backdrop-filter:var(--blur5)}.ol-control button{background-color:transparent!important}#ops #self-info__inv{display:flex;flex-direction:column;--sbgcui-inventory-limit:"3000"}#attack-menu{background-color:var(--background-transp);border:none!important;box-shadow:0 0 5px 2px #7777;backdrop-filter:var(--blur5)!important}#attack-menu.sbgcui_attack-menu-rotate{border-bottom-style:none!important;border-top-style:none!important}#attack-menu::after{border-radius:100px}#ops #self-info__inv::after{border-top:1px solid var(--sbgcui-branding-color,var(--border))}#discover>span::before{width:50%!important}.sbgcui_navbutton,.sbgcui_jumpToButton{font-size:unset;position:unset}#bottom button.fa::before{height:35%}.inventory__content[data-tab="3"] .inventory__item-controls::after{background-color:var(--sbgcui-branding-color,var(--selection))}.cui-clear-cache-button,button#sbgcui_forceclear{color:var(--btn-text);background-color:var(--accent);border:none!important;text-transform:uppercase;font-weight:bold;min-height:30px;padding:1px 6px;border-radius:var(--radius5)}#draw[sbgcui-possible-lines]::after{color:inherit;position:absolute;align-self:flex-end;margin-top:calc(0px - var(--button-height)/2)}.sbgcui_settings{border-radius:var(--radius10)}.sbgcui_settings input[type="checkbox"]{margin-top:10px;margin-right:18px}.sbgcui_settings,.sbgcui_favs{background:var(--background-transp);backdrop-filter:var(--blur5)}.sbgcui_settings-version{font-family:monospace;font-weight:bold}.sbgcui_settings-header{text-transform:uppercase;margin-bottom:10px}.sbgcui_settings-section{margin-bottom:5px;border:1px solid #7777;border-radius:var(--radius10);padding:5px 0 5px 10px;background:linear-gradient(90deg,#7771,#7773)}.sbgcui_settings-title{font-weight:bold}.sbgcui_settings-buttons_wrp{background:linear-gradient(180deg,transparent,var(--background-transp))}.sbgcui_settings-buttons_wrp>button{font-weight:bold}button#sbgcui_settings-close{color:var(--btn-text)!important;background-color:var(--accent)}.sbgcui_discharge_timeout{font-size:14px}@media screen and (max-height:639px){:root{--button-height:50px}#bottom button{font-size:10px}.catalysers-list__amount,.cores-list__amount{font-size:.75em}.catalysers-list__level,.cores-list__level{font-size:18px;line-height:18px;height:18px}.i-stat__entry{font-size:14px}.i-buttons{margin:0}#discover{margin-bottom:5px}.popup-close[data-round=true],#inventory__close[data-round=true]{font-size:1.25em!important}.sbgcui_discharge_timeout{font-size:12px}}`,""]);const v=g},308:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>s});var r=o(601),n=o.n(r),i=o(314),a=o.n(i)()(n());a.push([e.id,"@import url(https://fonts.googleapis.com/css2?family=Coda&display=swap);"]),a.push([e.id,":root{--i-color:#F9FAFC;--i-bg-color:#112025;--i-bg-color-cc:#112025CC;--i-bg-color-aa:#112025AA;--i-selection-color:#FF7C2B;--i-selection-bg-color:#49230E77;--i-btn-color:#97FBFB;--i-btn-bg-color:#20474C;--i-btn-glow-color:#007B85;--i-btn-border-color:#38E8E6;--i-btn-hl-color:#FCD959;--i-btn-hl-bg-color:#563F20;--i-btn-hl-glow-color:#A07F14;--i-btn-hl-border-color:#DAC546;--i-btn-disabled-color:#7E888A;--i-btn-disabled-bg-color:#112325;--i-btn-disabled-accent-color:#CB3C36}body,input,select,button,#bottom #i-share::after,#bottom #i-copy-pos::after{font-family:'Coda',system-ui,-apple-system,BlinkMacSystemFont,'Manrope',sans-serif}.eui-badge-container{display:flex}.game-menu>button,.bottomleft-container>button,body>#layers{font-family:'Coda','Manrope',sans-serif}.i-buttons>button,.settings.popup button:not(.popup-close),.attack-slider-buttons>button,.draw-slider-buttons>button,.inventory.popup button,.layers-config__buttons>button,.pr-buttons>button,#classic-login,#form__buttons-login,.sbgcui_compare_stats>button,.inventory__manage-amount button,.notifs__entry-view.icon-button,input:not(input[name^=\"maxAmountInBag\"]),.cui-clear-cache-button,select{border-style:solid;text-transform:uppercase;font-family:'Coda','Manrope',sans-serif}#discover,#deploy,#repair,#draw{position:relative}#eui-sort:disabled{opacity:.7}.i-buttons>button::before,.attack-slider-buttons>button::before,.draw-slider-buttons>button:not(.fa)::before{content:'';position:absolute;z-index:1;bottom:-1px;right:-1px;height:4px;width:12px;border-radius:100px 0 0 0;border-left:2px solid;border-top:2px solid}.i-buttons>button,.settings.popup button:not(.popup-close),#draw-slider-close,#attack-slider-close,.inventory.popup button,.layers-config__buttons>button,.pr-buttons>button,.sbgcui_compare_stats>button,.inventory__manage-amount button,#eui-console-execute,.notifs__entry-view.icon-button,input:not(input[name^=\"maxAmountInBag\"]),.sbgcui_drawslider_sort,.sbgcui_drawslider_fit,.cui-clear-cache-button,select{color:var(--i-btn-color);background:linear-gradient(to top,var(--i-btn-glow-color) 0%,var(--i-btn-bg-color) 30%,var(--i-btn-bg-color) 70%,var(--i-btn-glow-color) 100%),var(--i-btn-bg-color);border-color:var(--i-btn-border-color)}input[type=\"search\"]{border-radius:0!important}option{background-color:var(--i-btn-bg-color)}option:checked{color:var(--i-btn-hl-color);background-color:var(--i-btn-hl-bg-color)}.i-buttons>button::before,#draw-slider-close::before,#attack-slider-close::before{background-color:var(--i-btn-border-color);border-color:var(--i-btn-border-color);box-shadow:inset 2px 2px 0 0 var(--i-btn-glow-color)}#attack-slider-fire,#eui-attack-slider-fire,#draw-slider-confirm,.inventory__ma-delete,#layers-config__save,#classic-login,#form__buttons-login{color:var(--i-btn-hl-color)!important;background:linear-gradient(to top,var(--i-btn-hl-glow-color) 0%,var(--i-btn-hl-bg-color) 30%,var(--i-btn-hl-bg-color) 70%,var(--i-btn-hl-glow-color) 100%),var(--i-btn-hl-bg-color)!important;border-color:var(--i-btn-hl-border-color)!important}.inventory__item-controls::after{border-radius:0!important;box-shadow:inset 0 0 0 2px var(--i-btn-hl-border-color);color:var(--i-btn-hl-color)!important;background:linear-gradient(to top,var(--i-btn-hl-glow-color) 0%,var(--i-btn-hl-bg-color) 30%,var(--i-btn-hl-bg-color) 70%,var(--i-btn-hl-glow-color) 100%)!important}#attack-slider-fire::before,#eui-attack-slider-fire::before,#draw-slider-confirm::before{background-color:var(--i-btn-hl-border-color);border-color:var(--i-btn-hl-border-color);box-shadow:inset 2px 2px 0 0 var(--i-btn-hl-glow-color)}#attack-slider-fire[disabled],#draw-slider-confirm[disabled]{filter:opacity(.75);-webkit-backdrop-filter:var(--blur5);backdrop-filter:var(--blur5)}.i-buttons>button[disabled],.draw-slider-buttons>button[disabled],#draw[sbgcui-possible-lines=\"0\"]{color:var(--i-btn-disabled-color);background:var(--i-btn-disabled-bg-color);border-color:var(--i-btn-disabled-accent-color)}.i-buttons>button[disabled]::before,.draw-slider-buttons>button[disabled]::before,#draw[sbgcui-possible-lines=\"0\"]::before{background-color:var(--i-btn-disabled-accent-color);border-color:var(--i-btn-disabled-accent-color);box-shadow:inset 2px 2px 0 0 var(--i-btn-disabled-bg-color)}select[data-setting='theme']:disabled{filter:opacity(.5)!important}.popup-close[data-round=true],#inventory__close,.splide__arrow,.sbgcui_log-close,#sbgcui_hide_viewer{color:var(--i-btn-hl-color)!important;background:var(--i-btn-hl-bg-color)!important;box-shadow:inset 0 0 6px 3px var(--i-btn-hl-glow-color)!important;border-color:var(--i-btn-hl-border-color)!important}.splide__arrow svg{fill:var(--i-btn-hl-color)}.ol-control{border-radius:0!important}.ol-control button,#eui-hide,.sbgcui_log-buttons>button,#sbgcui_batch_remove{border:1px solid var(--i-btn-border-color)!important;color:var(--i-btn-color)!important;background-color:var(--i-btn-bg-color)!important;border-radius:0!important;box-shadow:inset 0 0 6px 3px var(--i-btn-glow-color)!important}#ops{border:1px solid var(--i-btn-hl-border-color)!important;color:var(--i-btn-hl-color)!important;background-color:var(--i-btn-hl-bg-color)!important;border-radius:0!important;box-shadow:inset 0 0 6px 3px var(--i-btn-hl-glow-color)!important}#eui-hide,#ops{min-height:64px}.ol-zoom .ol-zoom-in{border-radius:0!important}.draw-slider-wrp .splide__slide.is-active .refs-list__image>div{box-shadow:inset -8px 0 0px -5px var(--i-selection-color),inset -10px 0 8px -6px var(--i-selection-bg-color),inset 8px 0 0px -5px var(--i-selection-color),inset 10px 0 8px -6px var(--i-selection-bg-color)}#catalysers-list>.splide__slide.is-active,#cores-list>.splide__slide.is-active{box-shadow:inset -8px 0 0px -5px var(--i-selection-color),inset -10px 0 8px -6px var(--i-selection-bg-color),inset 8px 0 0px -5px var(--i-selection-color),inset 10px 0 8px -6px var(--i-selection-bg-color);border-radius:5px;-webkit-backdrop-filter:var(--blur5);backdrop-filter:var(--blur5)}.inventory__content,.inventory__tab.active{border-color:var(--selection)}.inventory__controls select,.inventory__controls input{border-width:1.6px}.profile.popup,.info.popup,.leaderboard.popup,.score.popup,.settings.popup,.layers-config.popup,.inventory.popup,.credits.popup,.notifs.popup,.inventory__manage-amount,#draw-slider,#attack-slider,.attack-slider-highlevel{color:var(--i-color);background-color:var(--i-bg-color-cc);-webkit-backdrop-filter:var(--blur5);backdrop-filter:var(--blur5);border-radius:0;border-color:var(--i-btn-border-color)!important}.i-stat__core.selected{border-color:var(--i-btn-border-color)!important;box-shadow:0 0 2px 2px var(--i-btn-border-color)}.pr-stat:not(:last-child){border-bottom:1px #D1D1D144 solid}.pr-xp-progress{border:none}.pr-xp-check{background:none}.layers-config__header,.leaderboard.popup>.popup-header,.settings.popup>h3,.credits.popup h3,.notifs.popup>h3{text-transform:uppercase;font-family:'Coda','Manrope',sans-serif}#discover[data-time]:after{color:var(--i-color)}.discover-progress{border-radius:0!important;background-color:var(--i-btn-disabled-accent-color)}.deploy-slider-error{background-color:var(--i-bg-color-aa)}@media screen and (max-height:668px) and (max-width:384px){.i-image-box{min-height:2em!important}.i-stat__entry{font-size:smaller}#discover,#deploy,#eui-repair,#draw,#draw[sbgcui-possible-lines]::after{font-size:smaller;font-weight:lighter;min-height:35px}.popup-close[data-round=true],#inventory__close[data-round=true]{font-size:1.25em!important}.sbgcui_navbutton,.sbgcui_jumpToButton{font-size:20px}.catalysers-list__amount,.cores-list__amount{font-size:.75em}}input:checked{filter:drop-shadow(0 0 6px var(--i-btn-border-color))}input[type='range']{background:var(--i-btn-bg-color)!important;border-radius:0!important;border:2px solid var(--i-btn-border-color)!important}input[type='range']::-webkit-slider-thumb{border-radius:0;background:var(--i-btn-border-color);box-shadow:-250px 0 0 250px var(--i-btn-border-color)}input[type='range']::-moz-range-thumb{border-radius:0;background:var(--i-btn-border-color);box-shadow:-250px 0 0 250px var(--i-btn-border-color)}.sbgcui_log{background-color:var(--i-bg-color-cc);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.sbgcui_log-close,#sbgcui_hide_viewer{border:2px solid!important}",""]);const s=a},820:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>s});var r=o(601),n=o.n(r),i=o(314),a=o.n(i)()(n());a.push([e.id,':root{--highlight-color:#f00;--i-color:#ddd;--i-bg-color:#000;--i-bg-color-cc:#000C;--i-bg-color-aa:#000A;--i-selection-color:#fff;--i-selection-bg-color:#ccc7;--i-btn-color:#ddd;--i-btn-bg-color:#0009;--i-btn-border-color:#ddd;--selection:#fff!important;--sbgcui-branding-color:#fff}:root[data-theme="light"]{--highlight-color:#a00;--i-color:#222;--i-bg-color:#fff;--i-bg-color-cc:#fffC;--i-bg-color-aa:#fffA;--i-selection-color:#000;--i-selection-bg-color:#3337;--i-btn-color:#222;--i-btn-bg-color:#fff9;--i-btn-border-color:#222;--selection:#000!important;--sbgcui-branding-color:#000}@media (prefers-color-scheme:light){:root[data-theme="auto"]{--highlight-color:#a00;--i-color:#222;--i-bg-color:#fff;--i-bg-color-cc:#fffC;--i-bg-color-aa:#fffA;--i-selection-color:#000;--i-selection-bg-color:#3337;--i-btn-color:#222;--i-btn-bg-color:#fff9;--i-btn-border-color:#222;--selection:#000!important;--sbgcui-branding-color:#000}}.self-info.compact,#self-info__name{color:var(--text)!important}.i-buttons>button,.settings.popup button:not(.popup-close),.attack-slider-buttons>button,.draw-slider-buttons>button,.inventory.popup button,.layers-config__buttons>button,.pr-buttons>button,#classic-login,#form__buttons-login,.sbgcui_compare_stats>button,.inventory__manage-amount button,#eui-console-execute,.notifs__entry-view.icon-button,input:not(input[name^="maxAmountInBag"]):not([type=\'checkbox\']),.cui-clear-cache-button,select{text-transform:uppercase;border-color:var(--i-btn-border-color);border-style:solid;border-radius:5px;color:var(--i-btn-color);background:var(--i-btn-bg-color);font-weight:bold}#inventory-delete-section,#inventory-delete[data-del="1"],.inventory__ma-delete{color:var(--highlight-color)!important;border-color:var(--highlight-color)!important}#inventory__close:not([data-round="true"]){background-color:var(--accent);color:#000}#discover,#deploy,#eui-repair,#draw{border-radius:0;position:relative}.i-buttons>button:nth-child(2){border-top-left-radius:10px!important}.i-buttons>button:nth-child(4){border-top-right-radius:10px!important}.i-buttons>button:nth-child(1){border-bottom-left-radius:10px!important;border-bottom-right-radius:10px!important}.i-buttons>button[disabled],#draw[sbgcui-possible-lines="0"]{filter:opacity(.5)!important}#eui-sort:disabled{filter:opacity(.5)}option{background-color:var(--i-btn-bg-color)}option:checked{color:var(--i-btn-color);background-color:var(--i-btn-bg-color)}.inventory__item-controls::after{box-shadow:0 0 0 1.5px inset;color:var(--i-btn-color)!important;background:var(--i-btn-bg-color)!important;border-color:var(--i-btn-border-color);border-radius:5px!important}#attack-slider-fire[disabled],#draw-slider-confirm[disabled]{filter:opacity(.5)}.popup-close[data-round=true],#inventory__close,.splide__arrow{color:var(--i-color)!important;background:var(--i-bg-color-aa)!important;-webkit-backdrop-filter:var(--blur5);backdrop-filter:var(--blur5);border-color:var(--i--color)!important}.splide__arrow svg{fill:var(--i-color)}.ol-control{border-radius:var(--ol-control-radius)}.ol-control button{color:var(--text)!important;border:1px solid var(--border)!important;border-radius:100px!important}.ol-zoom .ol-zoom-in{border-radius:100px 100px 0 0!important}.ol-zoom .ol-zoom-out{border-radius:0 0 100px 100px!important}#attack-menu,#ops,#eui-hide{color:var(--text)!important;border-color:var(--text)!important}#eui-hide{border:1px solid var(--ol-subtle-background-color);border-radius:4px}#ops,#eui-hide{min-height:64px}#attack-menu::after{background-color:var(--text)!important}#attack-menu.sbgcui_attack-menu-rotate{border-color:var(--highlight-color)!important}#attack-menu.sbgcui_attack-menu-rotate::after{background-color:var(--highlight-color)!important}.draw-slider-wrp .splide__slide.is-active .refs-list__image>div{box-shadow:inset -8px 0 0px -5px var(--i-selection-color),inset -10px 0 8px -6px var(--i-selection-bg-color),inset 8px 0 0px -5px var(--i-selection-color),inset 10px 0 8px -6px var(--i-selection-bg-color)}#catalysers-list>.splide__slide.is-active,#cores-list>.splide__slide.is-active{box-shadow:inset -8px 0 0px -5px var(--i-selection-color),inset -10px 0 8px -6px var(--i-selection-bg-color),inset 8px 0 0px -5px var(--i-selection-color),inset 10px 0 8px -6px var(--i-selection-bg-color);border-radius:5px;-webkit-backdrop-filter:var(--blur5);backdrop-filter:var(--blur5)}.inventory__content,.inventory__tab.active{border-color:var(--selection)}.inventory__controls select,.inventory__controls input{border-width:1.6px}.profile.popup,.info.popup,.leaderboard.popup,.score.popup,.settings.popup,.layers-config.popup,.inventory.popup,.credits.popup,.notifs.popup,.inventory__manage-amount,#draw-slider,#attack-slider,.attack-slider-highlevel{color:var(--i-color);background-color:var(--i-bg-color-cc);-webkit-backdrop-filter:var(--blur5);backdrop-filter:var(--blur5);border-color:var(--i-btn-border-color)!important}.i-stat__core.selected{border-color:var(--i-btn-border-color)!important;box-shadow:0 0 2px 2px var(--i-btn-border-color)}.pr-stat:not(:last-child){border-bottom:1px #D1D1D144 solid}.pr-xp-progress{border:none}.pr-xp-check{background:none}.layers-config__header,.leaderboard.popup>.popup-header,.settings.popup>h3,.credits.popup h3,.notifs.popup>h3{text-transform:uppercase}.discover-progress{background-color:#777;border-top-left-radius:0!important;border-top-right-radius:0!important;border-bottom-left-radius:9px!important;border-bottom-right-radius:9px!important}.deploy-slider-error{background-color:var(--i-bg-color-aa)}.info.popup::after,#i-image,input[type="checkbox"],input[type="radio"]{filter:grayscale(1)!important}#i-title,.deploy-slider-error{color:var(--i-color)!important}#i-ref,#i-level,.sbgcui_point_star{color:#fff!important}@media screen and (max-height:668px) and (max-width:384px){.i-image-box{min-height:2em!important}.i-stat__entry{font-size:smaller}#discover,#deploy,#eui-repair,#draw,#draw[sbgcui-possible-lines]::after{font-size:smaller;font-weight:lighter;text-transform:capitalize;min-height:35px}.popup-close[data-round=true],#inventory__close[data-round=true]{font-size:1.25em!important}.sbgcui_navbutton,.sbgcui_jumpToButton{font-size:20px}.catalysers-list__amount,.cores-list__amount{font-size:.75em}}input[type=\'range\']{background:#7777!important}input[type=\'range\']::-webkit-slider-thumb{background:var(--i-btn-border-color);box-shadow:-250px 0 0 250px var(--i-btn-border-color)}input[type=\'range\']::-webkit-slider-thumb{background:var(--i-btn-border-color);box-shadow:-250px 0 0 250px var(--i-btn-border-color)}.sbgcui_log{background-color:var(--i-bg-color-cc);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.sbgcui_log-buttons>button,#sbgcui_batch_remove,.sbgcui_log-close,#sbgcui_hide_viewer{color:var(--text)!important;border:1px solid var(--border)!important;border-radius:100px!important;background-color:var(--ol-background-color)}.sbgcui_log-close,#sbgcui_hide_viewer{border-width:1.6px!important}',""]);const s=a},588:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>s});var r=o(601),n=o.n(r),i=o(314),a=o.n(i)()(n());a.push([e.id,"@import url(https://fonts.googleapis.com/css2?family=Exo+2&display=swap);"]),a.push([e.id,"body,input,button{font-family:'Exo 2','Manrope',sans-serif}:root{--i-color:#F9FAFC;--i-bg-color:#141220;--i-bg-color-cc:#141220CC;--i-bg-color-aa:#141220AA;--i-selection-color:#F5BF5B;--i-selection-bg-color:#49230E77;--i-btn-color:#fff;--i-btn-bg-left-color:#353D6E;--i-btn-bg-right-color:#523271;--i-btn-border-left-color:#2872B1;--i-btn-border-right-color:#6E599E}body,input,select,button,#bottom #i-share::after,#bottom #i-copy-pos::after{font-family:'Exo 2',system-ui,-apple-system,BlinkMacSystemFont,'Manrope',sans-serif}.eui-badge-container{display:flex}.i-buttons>button,.settings.popup button:not(.popup-close),.attack-slider-buttons>button,.draw-slider-buttons>button,.inventory.popup button,.layers-config__buttons>button,.pr-buttons>button,#classic-login,#form__buttons-login,.sbgcui_compare_stats>button,.inventory__manage-amount button,#eui-console-execute,.notifs__entry-view.icon-button,input:not(input[name^=\"maxAmountInBag\"]),.cui-clear-cache-button,select{border-color:var(--i-btn-border-left-color);border-right-color:var(--i-btn-border-right-color);border-bottom-color:var(--i-btn-border-right-color);border-style:solid;border-radius:5px;color:var(--i-btn-color);background:linear-gradient(135deg,var(--i-btn-bg-left-color),var(--i-btn-bg-right-color)),var(--i-btn-bg-right-color)}#discover,#deploy,#repair,#draw{position:relative}.i-buttons>button[disabled],#draw[sbgcui-possible-lines=\"0\"]{filter:opacity(.5)!important}select[data-setting='theme']:disabled{filter:opacity(.5)!important}#eui-sort:disabled{filter:opacity(.5)}option{background-color:var(--i-btn-bg-right-color)}option:checked{color:var(--i-btn-color);background-color:var(--i-btn-bg-right-color)}.inventory__item-controls::after{color:var(--i-btn-color)!important;background:linear-gradient(135deg,var(--i-btn-bg-left-color),var(--i-btn-bg-right-color)),var(--i-btn-bg-right-color)!important}#attack-slider-fire[disabled],#draw-slider-confirm[disabled]{filter:opacity(.5)}.popup-close[data-round=true],#inventory__close,.splide__arrow,.sbgcui_log-close,#sbgcui_hide_viewer{color:var(--i-color)!important;background:var(--i-bg-color-aa)!important;-webkit-backdrop-filter:var(--blur5);backdrop-filter:var(--blur5);border-color:var(--i--color)!important}.splide__arrow svg{fill:var(--i-color)}.ol-control{border-radius:0!important;backdrop-filter:var(--blur10)}.ol-control button{color:var(--i-btn-color)!important;background-color:transparent!important}#eui-hide{left:56px;font-family:'Manrope',sans-serif}#eui-hide,#ops{color:var(--i-btn-color)!important;border-radius:0;border:none;background-color:var(--ol-subtle-background-color);backdrop-filter:var(--blur10);min-height:58px}.ol-zoom .ol-zoom-in{border-radius:5px 5px 0 0!important;border-bottom-color:transparent}.ol-zoom .ol-zoom-out{border-radius:0 0 5px 5px!important;border-top-color:transparent}.draw-slider-wrp .splide__slide.is-active .refs-list__image>div{box-shadow:inset -8px 0 0px -5px var(--i-selection-color),inset -10px 0 8px -6px var(--i-selection-bg-color),inset 8px 0 0px -5px var(--i-selection-color),inset 10px 0 8px -6px var(--i-selection-bg-color)}#catalysers-list>.splide__slide.is-active,#cores-list>.splide__slide.is-active{box-shadow:inset -8px 0 0px -5px var(--i-selection-color),inset -10px 0 8px -6px var(--i-selection-bg-color),inset 8px 0 0px -5px var(--i-selection-color),inset 10px 0 8px -6px var(--i-selection-bg-color);border-radius:5px;-webkit-backdrop-filter:var(--blur5);backdrop-filter:var(--blur5)}.inventory__content,.inventory__tab.active{border-color:var(--selection)}.inventory__controls select,.inventory__controls input{border-width:1.6px}.profile.popup,.info.popup,.leaderboard.popup,.score.popup,.settings.popup,.layers-config.popup,.inventory.popup,.credits.popup,.notifs.popup,.inventory__manage-amount,#draw-slider,#attack-slider,.attack-slider-highlevel{color:var(--i-color);background-color:var(--i-bg-color-cc);-webkit-backdrop-filter:var(--blur5);backdrop-filter:var(--blur5);border-color:var(--i-btn-border-left-color)!important}.i-stat__core.selected{border-color:var(--i-btn-border-left-color)!important;box-shadow:0 0 2px 2px var(--i-btn-border-left-color)}.pr-stat:not(:last-child){border-bottom:1px #D1D1D144 solid}.pr-xp-progress{border:none}.pr-xp-check{background:none}.layers-config__header,.leaderboard.popup>.popup-header,.settings.popup>h3,.credits.popup h3,.notifs.popup>h3{text-transform:uppercase}#discover[data-time]:after{color:var(--i-color)}.discover-progress{background-color:var(--i-btn-border-left-color)}.deploy-slider-error{background-color:#201A3E}@media screen and (max-height:668px) and (max-width:384px){.i-image-box{min-height:2em!important}.i-stat__entry{font-size:smaller}#discover,#deploy,#eui-repair,#draw,#draw[sbgcui-possible-lines]::after{font-size:smaller;font-weight:lighter;text-transform:capitalize;min-height:35px}.popup-close[data-round=true],#inventory__close[data-round=true]{font-size:1.25em!important}.sbgcui_navbutton,.sbgcui_jumpToButton{font-size:20px}.catalysers-list__amount,.cores-list__amount{font-size:.75em}}input:checked{filter:drop-shadow(0 0 6px var(--i-btn-border-right-color))}input[type='range']{background:linear-gradient(135deg,var(--i-btn-bg-left-color),var(--i-btn-bg-right-color)),var(--i-btn-bg-right-color)!important}input[type='range']::-webkit-slider-thumb{background:var(--i-btn-border-left-color);box-shadow:-250px 0 0 250px var(--i-btn-border-left-color)}input[type='range']::-moz-range-thumb{background:var(--i-btn-border-left-color);box-shadow:-250px 0 0 250px var(--i-btn-border-left-color)}.sbgcui_log{background-color:var(--i-bg-color-cc);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.sbgcui_log-close,#sbgcui_hide_viewer{border:2px solid!important}.sbgcui_log-buttons>button,#sbgcui_batch_remove{border-radius:0!important;backdrop-filter:var(--blur10);color:var(--i-btn-color)!important;background-color:var(--ol-subtle-background-color)}",""]);const s=a},787:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>s});var r=o(601),n=o.n(r),i=o(314),a=o.n(i)()(n());a.push([e.id,":root{--blur5:none!important;--blur10:none!important}.ol-layer__base,.ol-layer__player,.ol-layer__lines,.ol-layer__regions{filter:none!important}#catalysers-list>.splide__slide.is-active>.catalysers-list__level,#cores-list>.splide__slide.is-active>.cores-list__level{animation:none!important}.i-stat__core.selected{animation:none!important}.popup{transition:none!important}#eui-links-opacity:disabled,#eui-regions-opacity:disabled{opacity:.5}",""]);const s=a},130:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>s});var r=o(601),n=o.n(r),i=o(314),a=o.n(i)()(n());a.push([e.id,' @media (prefers-color-scheme:dark){:root[data-theme="auto"] .popup,:root[data-theme="auto"] #draw-slider,:root[data-theme="auto"] #attack-slider,:root[data-theme="auto"] .attack-slider-highlevel{color:#fff;background:#000;backdrop-filter:none;-webkit-backdrop-filter:none}}:root[data-theme="dark"] .popup,:root[data-theme="dark"] #draw-slider,:root[data-theme="dark"] #attack-slider,:root[data-theme="dark"] .attack-slider-highlevel{color:#fff;background:#000;backdrop-filter:none;-webkit-backdrop-filter:none}@media (prefers-color-scheme:light){:root[data-theme="auto"] .popup,:root[data-theme="auto"] #draw-slider,:root[data-theme="auto"] #attack-slider,:root[data-theme="auto"] .attack-slider-highlevel{color:#000;background:#fff;backdrop-filter:none;-webkit-backdrop-filter:none}}:root[data-theme="light"] .popup,:root[data-theme="light"] #draw-slider,:root[data-theme="light"] #attack-slider,:root[data-theme="light"] .attack-slider-highlevel{color:#000;background:#fff;backdrop-filter:none;-webkit-backdrop-filter:none}',""]);const s=a},38:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>s});var r=o(601),n=o.n(r),i=o(314),a=o.n(i)()(n());a.push([e.id,"@keyframes flicker{50%{filter:opacity(.75)}}.fatal-error::before{content:''!important;display:block;width:64px;height:64px;margin:64px auto;background:url(https://raw.githubusercontent.com/egorantonov/sbg-enhanced/master/assets/script/64.png) no-repeat;animation:flicker 3s linear infinite}.fatal-error::after{content:'SBG Enhanced UI'!important;display:block;margin:64px auto;font-size:small}",""]);const s=a},454:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>E});var r=o(601),n=o.n(r),i=o(314),a=o.n(i),s=o(417),l=o.n(s),c=new URL(o(36),o.b),d=new URL(o(890),o.b),p=new URL(o(483),o.b),u=new URL(o(613),o.b),g=new URL(o(136),o.b),b=new URL(o(381),o.b),m=new URL(o(668),o.b),h=new URL(o(861),o.b),f=a()(n()),v=l()(c),_=l()(d),x=l()(p),w=l()(u),y=l()(g),k=l()(b),S=l()(m),C=l()(h);f.push([e.id,`:root{--ol-control-radius:100px;--blur5:blur(5px)!important;--blur10:blur(10px);--eui-links-opacity:1;--eui-regions-opacity:1}.self-info.compact{align-items:baseline;justify-content:space-between;text-shadow:2px 2px 3px var(--background-transp)}.self-info.compact,.self-info.compact #self-info__name{position:initial;padding-left:5px}.self-info__entry:has(#self-info__coord){width:initial}#self-info__name.debug::before{content:'🟢 ';font-size:xx-small;position:relative;top:-2.5px;left:-2.5px}#self-info__name.break::before{content:'🔴 '}#self-info__coord,.sbgcui_speed{font-family:'Consolas',monospace}.profile.popup button:not(.popup-close){min-height:30px}.eui-badge-container{display:none}.popup{border-radius:5px;min-width:300px}.info.popup{padding-bottom:5px!important;padding-left:0;padding-right:0;justify-content:space-between}.ol-control #settings{margin-top:20px}.bottomleft-container>button,body>#layers{min-width:40px;min-height:40px}.game-menu>button{z-index:1}.game-menu>button,button#ops,#attack-menu,body>#layers{text-transform:uppercase}.topleft-container>.game-menu{gap:0}.game-menu>button{border-radius:0;line-height:20px;font-weight:600}.game-menu>button:first-child{border-top-left-radius:var(--radius5);border-bottom-left-radius:var(--radius5);margin-left:5px}.game-menu>button:last-child{border-top-right-radius:var(--radius5);border-bottom-right-radius:var(--radius5)}.popup-close[data-round=true],#inventory__close[data-round=true]{font-weight:600!important;border:2px solid!important;border-color:#777;border-radius:100px!important;font-size:1.5em!important;height:2em!important;width:2em!important;padding:0!important;box-shadow:unset}#inventory__close:not([data-round=true]){min-height:35px}.settings.popup .popup-close[data-round=true],.profile.popup .popup-close[data-round=true],.notifs.popup .popup-close[data-round=true]{position:absolute;bottom:1em;align-self:center}.inventory__content{padding-bottom:6em}.pr-stats{padding-bottom:3em}.settings-content,.notifs__list{padding-bottom:5em}.notifs>.notifs-settings{margin:0 10px 10px}.notifs>.notifs-settings>.settings-section__item{padding:10px 0 10px 15px;border:2px solid #7773;border-radius:var(--radius10);background:var(--background);grid-template-columns:3fr 1fr}.notifs__entry[data-id="x"] .notifs__entry-date::before{content:'🅰 '}.splide__arrow{height:3em;width:3em;border:1px solid #777;border-radius:100px;background:revert}.splide__arrow svg{fill:var(--text)}#discover:not([data-time]) .discover-progress,.info.popup.hidden .discover-progress{display:none}#eui-repair{filter:inherit;transition:all ease-in-out 50ms}#eui-repair:active{filter:opacity(.75);transition:all ease-in-out 50ms}#eui-hide{position:absolute;left:58px;bottom:-10px;border:none;border-radius:0 var(--radius10) 0 0;color:var(--sbgcui-branding-color,var(--selection));background-color:var(--background-transp);font-size:2em}.discover-progress{position:absolute;top:0;left:0;height:100%;border-radius:2px;background-color:#7777;backdrop-filter:var(--blur10);filter:opacity(.75);transition:width 1s linear}.i-buttons>button,.attack-slider-buttons>button,.draw-slider-buttons>button:not(.fa){position:relative}#catalysers-list>.splide__slide{min-width:max-content!important;width:100px!important}#attack-slider{border-radius:10px;padding:2px}#attack-slider .splide__arrows{display:none}#cores-list>.splide__slide,#catalysers-list>.splide__slide{min-width:max-content!important;width:80px!important;height:initial!important}.refs-list__image>div{border-radius:5px}.draw-slider-wrp .splide__slide{width:calc(((75% + 1em) / 2) - 1em)!important;max-width:200px;transition:all .2s ease-in-out}.draw-slider-wrp .splide__slide.is-active{transition:all .2s ease-in-out}.draw-slider-wrp .draw-slider-buttons:not(.fa){justify-content:center}.draw-slider-wrp .draw-slider-buttons button:not(.fa){padding:6px;text-transform:uppercase}.draw-slider-buttons{max-width:400px;margin-left:auto!important;margin-right:auto!important}.i-header{border-bottom-style:hidden;z-index:1}#i-title{color:#fff!important;display:block;overflow:hidden;text-overflow:ellipsis;text-shadow:0 0 2px var(--text-shadow),0 0 2px var(--text-shadow),0 0 2px var(--text-shadow),0 0 2px var(--text-shadow);filter:drop-shadow(2px 4px 6px var(--text-shadow));white-space:nowrap;margin:0 5px}.i-image-box{margin-top:-32px;min-height:150px!important}#i-level,.sbgcui_point_star{margin-top:25px}.i-buttons{order:1;margin:0 0 .5em;display:flex!important;gap:.25em!important;width:100%!important}.i-buttons>button{padding:6px 2px;min-width:fit-content;min-height:45px;width:30%;flex-basis:unset!important}.i-buttons>button[disabled]{filter:opacity(.75)}#discover{width:calc(90% + .5em);order:1!important}#discover[data-time]{color:#7773!important}#discover[data-time]:after{color:#fff;text-shadow:0 0 2px var(--text-shadow),0 0 2px var(--text-shadow),0 0 2px var(--text-shadow),0 0 2px var(--text-shadow);filter:drop-shadow(2px 4px 6px var(--text-shadow));width:100%;transform:translate(0,-50%);left:0;direction:ltr}.i-stat{flex-direction:row;flex-wrap:wrap;align-content:space-around;grid-template-areas:"distance lines" "owner regions" "energy reward" "captured captured" "cores cores" "slider slider" "buttons buttons"!important}.i-stat__entry:not(.i-stat__cores){margin:0 5px;min-width:45%}.i-stat__cores{margin-bottom:.5em;padding:5px 0;grid-template-columns:minmax(0,2.5fr) 1fr 1fr minmax(0,2.5fr);width:inherit}.deploy-slider-wrp{width:inherit}@keyframes blink{50%{box-shadow:0 0 2px 2px transparent}}.i-stat__core-info{margin:5px 0}.i-stat__core{border-width:1px;border-radius:100px;width:2em;height:2em;line-height:2em;box-shadow:0 0 2px 2px transparent;transition:box-shadow .25s ease-in-out}.i-stat__core.selected{border-width:2px;border-color:var(--sbgcui-branding-color,var(--selection));box-shadow:0 0 2px 2px var(--sbgcui-branding-color,var(--selection));animation:blink 2s linear infinite}.deploy-slider-error{border-radius:5px}.settings-section__item{min-height:2em;align-items:center;margin:2px 0}.settings-section__item span{justify-self:unset!important}.settings-section__item select,.settings-section__item>button:not(.popup-close){min-height:25px;width:100%;font-weight:bold}input[type='range']{-webkit-appearance:none;appearance:none;overflow:hidden;padding:0;min-height:25px;max-width:100px;background:#7777;border-radius:3px;border:none!important}input[type="range"][name="notifications_interval"]::after,input[type="range"][name="notifications_duration"]::after{top:unset}#eui-links-opacity,.regions-opacity__range>input[type='range']{position:relative}#eui-links-opacity::after,.regions-opacity__range>input[type='range']::after{content:attr(percents) "%";position:absolute;color:#fff;pointer-events:none;right:0;margin:2px 5px;text-shadow:1px 1px 3px #000}input[type='range']::-webkit-slider-thumb{-webkit-appearance:none;border:0 solid transparent;height:16px;width:16px;border-radius:3px;background:var(--sbgcui-branding-color,var(--selection));box-shadow:-250px 0 0 250px var(--sbgcui-branding-color,var(--selection));cursor:pointer}input[type='range']::-moz-range-thumb{border:0 solid transparent;height:16px;width:16px;border-radius:3px;background:var(--sbgcui-branding-color,var(--selection));box-shadow:-250px 0 0 250px var(--sbgcui-branding-color,var(--selection));cursor:pointer}#eui-images[data-size]::after{content:' (~' attr(data-size) 'mb)'}#eui-images[data-size="0"]::after{content:''}.inventory__tab{display:flex;align-items:center;height:35px}#inventory-delete-section{margin-right:0}.inventory__controls,.inventory__ma-buttons>button{min-height:40px}.inventory__ma-counter>button{min-height:35px;min-width:35px}.inventory__ma-counter input{min-height:30px;min-width:35px}.inventory__controls select,.inventory__controls input{min-width:50px;width:100%}.material-symbols-outlined{line-height:normal!important;font-weight:normal!important}.inventory__item-controls>button{padding:3px 6px}.inventory__ic-manage::before,.inventory__ic-view::before{content:''!important;display:block;background-color:currentColor;min-width:20px;width:100%;min-height:20px;height:100%;-webkit-mask-image:var(--icon)!important;mask-image:var(--icon)!important;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-position:center;mask-position:center;line-height:1}.inventory__ic-view::before{--icon:url(${v})}.inventory__ic-manage::before{--icon:url(${_})}input[data-type="reference-search"]{padding:0 6px}.zen{filter:opacity(.75)}.zen::after{border-radius:50%!important;animation:flicker 2s linear infinite}.bottom-container>button{padding:6px}.bottom-container>button#notifs-menu{margin:initial}.compactview_icon{position:relative}.compactview_icon::before{content:''!important;display:block;background-color:currentColor;min-width:20px;width:100%;min-height:20px;height:100%;-webkit-mask-image:var(--icon)!important;mask-image:var(--icon)!important;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-position:center;mask-position:center;line-height:1}#leaderboard{--icon:url(${x})}#score{--icon:url(${w})}#settings{--icon:url(${y})}#notifs-menu.compactview_icon::before{--icon:url(${k});min-width:20px!important;background:currentColor!important;transform:none!important;position:unset!important}#notifs-menu[data-count].compactview_icon::after{content:''!important;position:absolute;top:5px;right:0;background:var(--accent);border-radius:50%;width:25%;min-width:10px;height:25%;min-height:10px;font-size:10px}#layers{--icon:url(${S})}#toggle-follow{--icon:url(${C})}#notifs-menu[data-count]::before{font-family:'Manrope',sans-serif!important;font-size:small}.ol-layer__player{filter:drop-shadow(2px 2px 4px var(--shadow))}.ol-layer__lines{filter:opacity(var(--eui-links-opacity))}.ol-layer__regions{filter:opacity(var(--eui-regions-opacity))}#eui-console{width:100%;height:100%;display:flex;flex-direction:column;position:absolute;top:0}#eui-console>h3{align-self:center;margin:0 auto 10px}#eui-console-input,#eui-console-output{font-family:monospace;font-size:16px;height:40%;width:100%;align-self:center;border-color:var(--sbgcui-branding-color,var(--progress));border-width:2px;border-radius:var(--radius5);margin-bottom:10px}#eui-console-input{height:120px}#eui-console-output{border-color:revert}#eui-console-output::selection{color:#fff;background-color:var(--sbgcui-branding-color,var(--progress))}#eui-console-execute{width:100%;height:32px;align-self:center;font-weight:bold}#eui-console-close{position:absolute;bottom:1em;align-self:center}.sbgcui_speed{z-index:1}.game-menu>button.fa{min-height:18px}#attack-menu,.topleft-container{backdrop-filter:none!important;-webkit-backdrop-filter:none}#attack-menu{border-style:double!important;border-top-style:solid!important;transition:all ease-in-out .25s!important;-moz-transform:rotate(0deg)!important}#attack-menu.sbgcui_attack-menu-rotate{border-bottom-style:solid!important;border-top-style:double!important;height:5em!important;width:5em!important;margin-top:1em}.sbgcui_refs-sort-button,.sbgcui_refs-sort-select{display:none!important}.sbgcui_log-close,.sbgcui_log-buttons>button,#sbgcui_batch_remove,#sbgcui_hide_viewer{box-shadow:none;background-color:var(--sbgcui-branding-color);color:#fff;border:none}#sbgcui_batch_remove{font-size:1.7em!important;right:.5em!important;height:1.375em;width:1.375em}.inventory__item-left{background-position:center!important;background-repeat:no-repeat!important;background-size:cover!important;border-radius:3px}.inventory__content[data-tab="3"]{gap:6px!important;display:flex;flex-direction:column}.inventory__content[data-tab="3"] .inventory__item{padding-right:40px!important}.inventory__content[data-tab="3"] .inventory__item.loaded.eui_img .inventory__item-left::before{background:linear-gradient(90deg,#fff0 95%,var(--sbgcui-branding-color) 100%),radial-gradient(ellipse at 0%,#fff0 50%,var(--sbgcui-branding-color) 100%)!important}.inventory__content[data-tab="3"] .inventory__item.loaded:not(.eui_img) .inventory__item-left::before{background:linear-gradient(90deg,#fff0 0%,#fff0 33%,var(--sbgcui-branding-color) 100%),radial-gradient(ellipse at 0%,#fff0 50%,var(--sbgcui-branding-color) 100%)}:root{--sbgcui-display-r-button:none}.inventory__content[data-tab="3"] .inventory__item-controls{order:1;overflow:visible;display:flex;flex-direction:column;height:100%;justify-content:space-between}.inventory__item-left{order:2}.inventory__content[data-tab="3"] .inventory__item-controls::after{display:var(--sbgcui-display-r-button);content:'⚡'!important;width:40px}.catalysers-list__level,.cores-list__level{aspect-ratio:1;border-radius:10px;padding:5px;font-size:24px;height:24px;line-height:24px;text-align:center}.catalysers-list__amount,.cores-list__amount{width:100%;text-align:center;font-size:1em}.cui-clear-cache-button{align-self:flex-end}#draw[sbgcui-possible-lines]::after{font-size:smaller}#draw[sbgcui-possible-lines="0"]::after{content:"";display:none}@keyframes blink-box-shadow-inset{0%{box-shadow:inset 0 2px 5px 2px}25%{box-shadow:inset -2px 0 5px 2px}50%{box-shadow:inset 0px -2px 5px 2px}75%{box-shadow:inset 2px 0 5px 2px}}#catalysers-list>.splide__slide.is-active>.catalysers-list__level,#cores-list>.splide__slide.is-active>.cores-list__level{box-shadow:inset 0 2px 5px 2px;animation:1.5s linear infinite blink-box-shadow-inset}.cores-list__level{border-radius:100px}#i-stat__energy>span{font-size:small;font-weight:bold}.info.popup>.popup-close{position:relative!important}@media screen and (max-height:600px) and (orientation:landscape){.force_portrait{padding:0;margin:0;position:fixed;top:0;z-index:999;width:100%;height:100%;background:var(--background);display:flex;justify-content:center;align-items:center}.force_portrait::after{content:attr(data-text)}}`,""]);const E=f},314:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var o="",r=void 0!==t[5];return t[4]&&(o+="@supports (".concat(t[4],") {")),t[2]&&(o+="@media ".concat(t[2]," {")),r&&(o+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),o+=e(t),r&&(o+="}"),t[2]&&(o+="}"),t[4]&&(o+="}"),o})).join("")},t.i=function(e,o,r,n,i){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(r)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(a[l]=!0)}for(var c=0;c<e.length;c++){var d=[].concat(e[c]);r&&a[d[0]]||(void 0!==i&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=i),o&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=o):d[2]=o),n&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=n):d[4]="".concat(n)),t.push(d))}},t}},417:e=>{"use strict";e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]|(%20)/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},601:e=>{"use strict";e.exports=function(e){return e[1]}},923:(e,t,o)=>{var r=o(127);r&&r.__esModule&&(r=r.default),e.exports="string"==typeof r?r:r.toString()},905:(e,t,o)=>{var r=o(365);r&&r.__esModule&&(r=r.default),e.exports="string"==typeof r?r:r.toString()},522:(e,t,o)=>{var r=o(870);r&&r.__esModule&&(r=r.default),e.exports="string"==typeof r?r:r.toString()},912:(e,t,o)=>{var r=o(308);r&&r.__esModule&&(r=r.default),e.exports="string"==typeof r?r:r.toString()},880:(e,t,o)=>{var r=o(820);r&&r.__esModule&&(r=r.default),e.exports="string"==typeof r?r:r.toString()},168:(e,t,o)=>{var r=o(588);r&&r.__esModule&&(r=r.default),e.exports="string"==typeof r?r:r.toString()},655:(e,t,o)=>{var r=o(787);r&&r.__esModule&&(r=r.default),e.exports="string"==typeof r?r:r.toString()},558:(e,t,o)=>{var r=o(130);r&&r.__esModule&&(r=r.default),e.exports="string"==typeof r?r:r.toString()},706:(e,t,o)=>{var r=o(38);r&&r.__esModule&&(r=r.default),e.exports="string"==typeof r?r:r.toString()},714:(e,t,o)=>{var r=o(454);r&&r.__esModule&&(r=r.default),e.exports="string"==typeof r?r:r.toString()},754:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function EuiConsole(){const euiConsole="eui-console",hidden="hidden",LB="\r\n";function getNativeConsole(){if(!window._nativeConsole){const e=document.createElement("iframe");e.style.display="none",document.body.appendChild(e),window._nativeConsole=e.contentWindow.console}return window._nativeConsole}const consolePopup=document.createElement("div");consolePopup.id=euiConsole,consolePopup.classList.add("popup"),consolePopup.classList.add(hidden),document.body.appendChild(consolePopup);const title=document.createElement("h3");title.textContent="EUI Console",consolePopup.appendChild(title);const output=document.createElement("textarea");output.id=`${euiConsole}-output`,output.placeholder=">",output.disabled=!0,consolePopup.appendChild(output);const input=document.createElement("textarea");input.id=`${euiConsole}-input`,input.placeholder=">",consolePopup.appendChild(input);const executeButton=document.createElement("button");executeButton.id=`${euiConsole}-execute`,executeButton.textContent="Execute";var logger=getNativeConsole();function executeCallback(){var toEval=input.value;if(toEval){if(logger.log(`Evaluating: ${LB}${toEval}`),output.value+=`${toEval}${LB}${LB}`,"clear"==toEval||"clear()"==toEval)return input.value="",void(output.value=">");try{var res=eval(toEval);logger.log(res),input.value="",Array.isArray(res)?output.value+=`${JSON.stringify(res)}${LB}${LB}>`:"object"!=typeof res||Array.isArray(res)||null===res?output.value+=`${res}${LB}${LB}>`:(output.value+=`${res}${LB}`,output.value+=`${JSON.stringify(res)}${LB}${LB}>`)}catch(e){logger.error(e),input.value="",output.value+=`Error: ${e}${LB}${LB}>`}output.scrollTop=output.scrollHeight}}executeButton.addEventListener("click",executeCallback),consolePopup.append(executeButton),consolePopup.appendChild(document.createElement("br"));const closeButton=document.createElement("button");closeButton.id=`${euiConsole}-close`,closeButton.textContent=" ✕ ",closeButton.dataset.round="true",closeButton.classList.add("popup-close"),closeButton.addEventListener("click",(()=>{consolePopup.classList.add(hidden)})),consolePopup.appendChild(closeButton);const about=Array.from(document.querySelectorAll(".settings-section")).at(3);if(about){const e=document.createElement("span");e.innerText="Debug Console";const t=document.createElement("button");t.innerText="Open",t.addEventListener("click",(()=>{consolePopup.classList.toggle(hidden)}));const o=document.createElement("div");o.classList.add("settings-section__item"),o.appendChild(e),o.appendChild(t),setTimeout((()=>about.appendChild(o)),1e3)}}__webpack_require__.d(__webpack_exports__,{R:()=>EuiConsole})},360:()=>{},727:e=>{"use strict";e.exports='data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="20" viewBox="0 -960 960 960" width="20"><path d="M284-262q-90.833 0-154.417-63.515Q66-389.029 66-479.765q0-90.735 63.583-154.485Q193.167-698 284-698h392q90.833 0 154.417 63.515Q894-570.971 894-480.235q0 90.735-63.583 154.485Q766.833-262 676-262H284Zm0-98q50 0 85-35t35-85q0-50-35-85t-85-35q-50 0-85 35t-35 85q0 50 35 85t85 35Z"/></svg>'},129:e=>{"use strict";e.exports='data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="20" viewBox="0 -960 960 960" width="20"><path d="M284-262q-90.833 0-154.417-63.515Q66-389.029 66-479.765q0-90.735 63.583-154.485Q193.167-698 284-698h392q90.833 0 154.417 63.515Q894-570.971 894-480.235q0 90.735-63.583 154.485Q766.833-262 676-262H284Zm392-98q50 0 85-35t35-85q0-50-35-85t-85-35q-50 0-85 35t-35 85q0 50 35 85t85 35Z"/></svg>'},890:e=>{"use strict";e.exports='data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="20" viewBox="0 -960 960 960" width="20"><path fill="currentColor" d="M402.115-342.886 480.5-421.27l78.385 78.384 34.729-34.729L515.23-456l78.384-78.385-34.729-34.729L480.5-490.73l-78.385-78.384-34.729 34.729L445.77-456l-78.384 78.385 34.729 34.729Zm-75.383 170.808q-25.5 0-42.885-17.385-17.384-17.384-17.384-42.884v-461.23h-47.192v-47.96h166.344v-41.769h189.577v41.769h166.345v47.96h-47.192v461.23q0 25.5-17.385 42.884-17.384 17.385-42.884 17.385H326.732Z"/></svg>'},36:e=>{"use strict";e.exports='data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="20" viewBox="0 -960 960 960" width="20"><path fill="currentColor" d="M480.091-333.77q60.966 0 103.552-42.677 42.587-42.677 42.587-103.644 0-60.966-42.677-103.552-42.677-42.587-103.644-42.587-60.966 0-103.552 42.677-42.587 42.677-42.587 103.644 0 60.966 42.677 103.552 42.677 42.587 103.644 42.587Zm.004-51.845q-39.287 0-66.883-27.502-27.597-27.501-27.597-66.788 0-39.287 27.502-66.883 27.501-27.597 66.788-27.597 39.287 0 66.883 27.501 27.597 27.502 27.597 66.789 0 39.287-27.501 66.883-27.502 27.597-66.789 27.597Zm-.04 167.152q-131.65 0-239.583-71.653Q132.54-361.77 78.424-480q54.116-118.23 161.993-189.884 107.878-71.653 239.528-71.653 131.65 0 239.583 71.653Q827.46-598.23 881.576-480 827.46-361.77 719.583-290.116q-107.878 71.653-239.528 71.653Z"/></svg>'},662:e=>{"use strict";e.exports='data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="20px" viewBox="0 -960 960 960" width="20px"><path d="M88-88v-784h784v784H88Zm106-106h572v-572H194v572Z"/></svg>'},968:e=>{"use strict";e.exports='data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="20px" viewBox="0 -960 960 960" width="20px"><path d="m424-292 304-304-74-74-230 230-116-116-74 74 190 190ZM88-88v-784h784v784H88Zm106-106h572v-572H194v572Zm0 0v-572 572Z"/></svg>'},433:e=>{"use strict";e.exports='data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 -960 960 960" width="24"><path d="M400-80v-164l294-292q12-12 26.5-18t30.5-6q16 0 30.5 6t26.5 18l49 50q11 12 17 26.5t6 29.5q0 15-6.5 29.5T856-374L564-80H400Zm349-298 51-52-49-50-52 52 50 50ZM430-590l-56-57 73-73H313q-9 26-28 45t-45 28v334q35 13 57.5 43.5T320-200q0 50-35 85t-85 35q-50 0-85-35t-35-85q0-39 22.5-69t57.5-43v-335q-35-13-57.5-43.5T80-760q0-50 35-85t85-35q39 0 69.5 22.5T313-800h134l-73-73 56-57 170 170-170 170Zm330-290q50 0 85 35t35 85q0 50-35 85t-85 35q-50 0-85-35t-35-85q0-50 35-85t85-35Z"/></svg>'},369:e=>{"use strict";e.exports='data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 -960 960 960" width="24"><path d="m440-380-237-30q-25-3-32.5-27t10.5-41l409-392q5-5 12-7.5t19-2.5q20 0 30.5 17t.5 35L520-580l237 30q25 3 32.5 27T779-482L370-90q-5 5-12 7.5T339-80q-20 0-30.5-17t-.5-35l132-248Z"/></svg>'},381:e=>{"use strict";e.exports='data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 -960 960 960" width="24"><path fill="currentColor" d="M160-200v-80h80v-280q0-83 50-147.5T420-792v-28q0-25 17.5-42.5T480-880q25 0 42.5 17.5T540-820v28q80 20 130 84.5T720-560v280h80v80H160ZM480-80q-33 0-56.5-23.5T400-160h160q0 33-23.5 56.5T480-80Z"/></svg>'},861:e=>{"use strict";e.exports='data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 -960 960 960" width="24"><path fill="currentColor" d="M440-42v-80q-125-14-214.5-103.5T122-440H42v-80h80q14-125 103.5-214.5T440-838v-80h80v80q125 14 214.5 103.5T838-520h80v80h-80q-14 125-103.5 214.5T520-122v80h-80Zm40-158q116 0 198-82t82-198q0-116-82-198t-198-82q-116 0-198 82t-82 198q0 116 82 198t198 82Zm0-120q-66 0-113-47t-47-113q0-66 47-113t113-47q66 0 113 47t47 113q0 66-47 113t-113 47Z"/></svg>'},668:e=>{"use strict";e.exports='data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 -960 960 960" width="24"><path fill="currentColor" d="M480-118 120-398l66-50 294 228 294-228 66 50-360 280Zm0-202L120-600l360-280 360 280-360 280Z"/></svg>'},613:e=>{"use strict";e.exports='data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 -960 960 960" width="24"><path fill="currentColor" d="M80-120v-480h220v480H80Zm290 0v-720h220v720H370Zm290 0v-400h220v400H660Z"/></svg>'},136:e=>{"use strict";e.exports='data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 -960 960 960" width="24"><path fill="currentColor" d="m370-80-16-128q-13-5-24.5-12T307-235l-119 50L78-375l103-78q-1-7-1-13.5v-27q0-6.5 1-13.5L78-585l110-190 119 50q11-8 23-15t24-12l16-128h220l16 128q13 5 24.5 12t22.5 15l119-50 110 190-103 78q1 7 1 13.5v27q0 6.5-2 13.5l103 78-110 190-118-50q-11 8-23 15t-24 12L590-80H370Zm112-260q58 0 99-41t41-99q0-58-41-99t-99-41q-59 0-99.5 41T342-480q0 58 40.5 99t99.5 41Z"/></svg>'},483:e=>{"use strict";e.exports='data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 -960 960 960" width="24"><path fill="currentColor" d="m387-412 35-114-92-74h114l36-112 36 112h114l-93 74 35 114-92-71-93 71ZM240-40v-309q-38-42-59-96t-21-115q0-134 93-227t227-93q134 0 227 93t93 227q0 61-21 115t-59 96v309l-240-80-240 80Zm240-280q100 0 170-70t70-170q0-100-70-170t-170-70q-100 0-170 70t-70 170q0 100 70 170t170 70Z"/></svg>'}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var o=__webpack_module_cache__[e]={id:e,exports:{}};return __webpack_modules__[e](o,o.exports,__webpack_require__),o.exports}__webpack_require__.m=__webpack_modules__,__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=(e,t)=>{for(var o in t)__webpack_require__.o(t,o)&&!__webpack_require__.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.b=document.baseURI||self.location.href;var __webpack_exports__={};(()=>{"use strict";function e(){var e,o={browser:"",mobile:!1,platform:""},r=window?.navigator?.userAgentData;if(r&&(null===(e=r.brands)||void 0===e?void 0:e.length)>0){var s=r.brands.find((function(e){return!e.brand.includes("Not")&&"Chromium"!==e.brand&&""!==e.brand}));return o.platform=a(r.platform?r.platform:navigator.platform,navigator.userAgent),o.browser=(null==s?void 0:s.brand)?"android webview"==s.brand.toLowerCase()&&o.platform==i.ANDROID?t:s.brand:n(navigator.userAgent),o.mobile=r.mobile,o}return o.platform=a(navigator.platform,navigator.userAgent),o.browser=n(navigator.userAgent),o.mobile=navigator.userAgent.toLowerCase().includes("mobile"),o}var t="APK",o="Webview",r={SAFARI:"Safari/",FIREFOX:"Firefox/",GECKO:"Gecko/",OPERA:"OPR/",OPERA_TOUCH:"OPT/",EDG:"Edg/",EDGE:"Edge/",EDGE_ANDROID:"EdgA/",BRAVE:"Brave/",VIVALDI:"Vivaldi/",YANDEX:"Yandex/",YABROWSER:"YaBrowser/",CHROME:"Chrome/",CHROME_IOS:"CriOS/",WEBVIEW:"wv",WEBVIEW_FULL:"webview"};function n(e){return e.includes(i.ANDROID)&&(e.includes(r.WEBVIEW)||e.toLowerCase().includes(r.WEBVIEW_FULL))?t:e.includes(r.OPERA)?"Opera":e.includes(r.OPERA_TOUCH)?"Opera Touch":e.includes(r.FIREFOX)||e.includes(r.GECKO)?"Firefox":e.includes(r.YANDEX)||e.includes(r.YABROWSER)?"Yandex":e.includes(r.VIVALDI)?"Vivaldi":e.includes(r.BRAVE)?"Brave":e.includes(r.EDG)||e.includes(r.EDGE)||e.includes(r.EDGE_ANDROID)?"Edge":e.includes(r.CHROME)||e.includes(r.CHROME_IOS)?e.includes(r.WEBVIEW)?o:"Chrome":e.includes(r.SAFARI)?"Safari":e.includes(r.WEBVIEW)||e.toLowerCase().includes(r.WEBVIEW_FULL)?o:e}var i={WINDOWS:"Windows",MAC:"Mac",IPAD:"iPad",IPHONE:"iPhone",ANDROID:"Android",LINUX:"Linux"};function a(e,t){var o=null==e?void 0:e.toLowerCase();return(null==o?void 0:o.startsWith("win"))||t.includes(i.WINDOWS)?i.WINDOWS:(null==o?void 0:o.startsWith(i.MAC.toLowerCase()))?t.includes(i.IPAD)?i.IPAD:t.includes(i.IPHONE)?i.IPHONE:i.MAC:(null==o?void 0:o.startsWith(i.LINUX.toLowerCase()))?t.includes(i.ANDROID)?i.ANDROID:i.LINUX:e}var s="N\\A",l="ANGLE";function c(){var e,t=document.createElement("canvas");try{e=t.getContext("webgl")||t.getContext("experimental-webgl")}catch(e){return console.log(e),s}if(null==e)return console.error("WebGL is not available in this browser"),s;var o=null==e?void 0:e.getExtension("WEBGL_debug_renderer_info");if(null==o)return console.error("WebGL debug information is not available in this browser"),s;var r=e.getParameter(o.UNMASKED_RENDERER_WEBGL);console.log(r),console.log(e.getParameter(o.UNMASKED_VENDOR_WEBGL));var n=function(e){return e.startsWith(l)&&(e=e.slice(7,e.length-1)),e=d(e,"Direct"),","===(e=d(e,"Open"))[e.length-1]&&(e=e.slice(0,e.length-1)),e}(r);return n}function d(e,t){return e.includes(t)&&(e=e.slice(0,e.indexOf(t))),e.trimEnd()}function p(){return JSON.parse(localStorage.getItem("settings"))}function u(e){localStorage.setItem("settings",JSON.stringify(e))}function g(e="",t="bottom center",o=3e3,r="interaction-toast"){if(!window.Toastify)return;const[n,i]=t.split(/\s+/),a=window.Toastify({text:e.toString(),duration:o,gravity:n,position:i,escapeMarkup:!1,className:r});return a.options.onClick=()=>a.hideToast(),a}function b(e="",t="bottom center",o=3e3,r="interaction-toast"){window.Toastify&&g(e.toString(),t,o,r).showToast()}const m={log:e=>console.log(`[EUI] ${e}`),error:(e,...t)=>console.error(`[EUI] ${e}`,t),debug:(e,...t)=>window?.__eui_debug&&console.warn(`[Debug] ${e}`,t)};window.EUI={...window.EUI,createToast:g,showToast:b};const h={OutboundLinksLimit:30,DefaultCloseButtonText:"[x]",VersionHeader:"Sbg-Version",CompatibleVersion:"0.4.4",Settings:"settings",DefaultLang:"en",GooglePhoto:"https://lh3.googleusercontent.com/"},f={Id:"eui",UserId:"eui-user-id",CloseButtonText:" ✕ ",Incompatibility:"eui-incompatibility",Version:"6.5.1",LinksOpacity:"eui-links-opacity",RegionsOpacity:"eui-regions-opacity",HighContrast:"eui-high-contrast",Animations:"eui-animations",CompactView:"eui-compact-view",Sort:"eui-sort",Search:"eui-search",CustomTheme:"eui-ingress-theme",CommonStyles:"eui-common-styles",ImmediateStyles:"eui-immediate-styles",Online:"eui-online",Connection:"eui-connection",CloudSync:"__eui-cloud-sync",LastSynced:"eui-cloud-sync",SettingsCache:"__settings-cache",PerformanceMode:"eui-perf-mode",Actions:"eui-actions",ActionsCurrent:"__eui-actions-current",ActionsLog:"__eui-actions-log",Avatar:"eui-avatar",Progress:"eui-progress",ProgressText:"eui-progress-text",ProgressStepsCount:"__eui-progress-steps-count",ProgressStatus:"eui-progress-status",SpeedoMeter:"eui-speedometer",Team:"__eui-team"},v={onClick:"click",onChange:"change",onLoad:"load",onInput:"input",onTouchStart:"touchstart",onTouchMove:"touchmove",onTouchEnd:"touchend",onBackButton:"backbutton",onScroll:"scroll",onProfileStatsChanged:"profileStatsChanged"},_={Auto:"auto",Hidden:"hidden",Disabled:"disabled",Loading:"loading",Loaded:"loaded",ReferenceSearch:"reference-search",DiscoverProgressClassName:"discover-progress",SettingsSectionItemClassName:"settings-section__item"},x={Input:"input",Select:"select",Option:"option",Span:"span",Paragraph:"p",Div:"div",Label:"label",Style:"style",CheckBox:"checkbox",Button:"button",Image:"img",Link:"a",Canvas:"canvas"},w="-proposed",y=new class{GetProp(e,t){const o=e;if(!this[o]){let r;try{r=t()}catch(t){console.log(`Error getting '${e}' client data: ${t.message}`),console.error(t)}this[o]=r}return this[o]}get GetUserAgentData(){return this.GetProp("userAgentData",e)}get GetGPU(){return this.GetProp("gpu",c)}},k=new class{GetId(e){const t=`_id:${e}`;return this[t]||(this[t]=document.getElementById(e)),this[t]}GetSelector(e){const t=`_selector:${e}`;return this[t]||(this[t]=document.querySelector(e)),this[t]}GetSelectorAll(e){const t=`_selectorAll:${e}`;return this[t]||(this[t]=Array.from(document.querySelectorAll(e))),this[t]}get Ops(){return this.GetId("ops")}get Score(){return this.GetId("score")}get Layers(){return this.GetId("layers")}get Attack(){return this.GetId("attack-menu")}get Notifs(){return this.GetId("notifs-menu")}get Discover(){return this.GetId("discover")}get Settings(){return this.GetId("settings")}get SelfName(){return this.GetId("self-info__name")}get PrName(){return this.GetId("pr-name")}get Leaderboard(){return this.GetId("leaderboard")}get ToggleFollow(){return this.GetId("toggle-follow")}get InfoPopupClose(){return this.GetSelector("div.info.popup>button.popup-close")}get InventoryPopupClose(){return this.GetId("inventory__close")}get SettingsPopupClose(){return this.GetSelector("div.settings.popup>button.popup-close")}get InfoPopup(){return this.GetSelector(".info.popup")}get ScorePopup(){return this.GetSelector(".score.popup")}get ProfilePopup(){return this.GetSelector(".profile.popup")}get InventoryPopup(){return this.GetSelector(".inventory.popup")}get ProfileStatsContainer(){return this.GetSelector(".pr-stats")}get InventoryContent(){return this.GetSelector(".inventory__content")}get BottomContainer(){return this.GetSelector("div.bottom-container")}get BottomLeftContainer(){return this.GetSelector("div.bottomleft-container")}get SettingSections(){return this.GetSelectorAll(".settings-section")}get ProfileStats(){return Array.from(document.querySelectorAll(".pr-stat"))}},S=()=>document.getElementById("self-info__name").innerText===String.fromCharCode(101,121,101,109,97,120),C=()=>window.navigator.userAgent.toLowerCase().includes("wv"),E=()=>window.document.querySelectorAll('*[class^="sbgcui"]'),I={Detected:()=>window.cuiStatus||window.TeamColors||window.Catalysers||window.attack_slider||window.deploy_slider||window.draw_slider||window.requestEntities||window.cl||window.onerror||E()?.length,Loaded:()=>"loaded"==window.cuiStatus||window.TeamColors&&window.Catalysers&&window.attack_slider&&window.deploy_slider&&window.draw_slider&&window.requestEntities&&E()?.length&&window.document.querySelector(".sbgcui_inventory__ma-shortcuts")&&!document.querySelector("button.ol-rotate-reset")},L=e=>new Promise((t=>setTimeout(t,e))),A=()=>{let e=p()?.lang;return e&&"sys"===e&&(e=navigator.language?.slice(0,2)??h.DefaultLang),e??h.DefaultLang},$=Intl.NumberFormat(A()).formatToParts(1234.56),P={incompatibility:{en:"Enhanced UI may be incompatible with current version of SBG",ru:"Enhanced UI может быть несовместим с текущей версией игры"},portraitScreen:{en:"Please, rotate screen to portrait mode",ru:"Переверните экран в вертикальное положение"},enhancedUIVersion:{en:"Enhanced UI Version",ru:"Версия Enhanced UI"},colorScheme:{en:"Color Scheme",ru:"Цветовая схема"},highContrast:{en:"High Contrast",ru:"Высокий контраст"},linesOpacity:{en:"Lines opacity",ru:"Прозрачность линий"},regionsOpacity:{en:"Regions opacity",ru:"Прозрачность регионов"},animations:{en:"Animations",ru:"Анимации"},compactView:{en:"Compact View",ru:"Компактный режим"},searchRefPlaceholder:{en:"Search refs",ru:"Поиск рефов"},kilo:{en:"k",ru:"к"},m:{en:"m",ru:"м"},s:{en:"s",ru:"с"},decimalSeparator:{[A()]:$.find((e=>"decimal"===e.type)).value??"."},groupSeparator:{[A()]:$.find((e=>"group"===e.type)).value??","},deploy:{en:"Deploy",ru:"Установить"},discover:{en:"Hack",ru:"Взломать"},draw:{en:"Link",ru:"Связать"},repair:{en:"Recharge",ru:"Зарядить"},lines:{en:"Links",ru:"Связи"},fields:{en:"Fields",ru:"Поля"},importExport:{en:"Import/export settings",ru:"Импорт/экспорт настроек"},cloudSync:{en:"Cloud sync",ru:"Сохранено в облаке"},themeDefault:{en:"Default",ru:"По умолчанию"},themeIngress:{en:"Ingress",ru:"Ингресс"},themePrime:{en:"Prime",ru:"Прайм"},themeMono:{en:"Mono",ru:"Моно"},themeEUI:{en:"Enhanced UI",ru:"Enhanced UI"},themeArcade:{en:"Arcade",ru:"Аркада"},sortName:{en:"By name",ru:"По названию"},sortDist:{en:"By distance",ru:"По расстоянию"},sortEnergy:{en:"By energy",ru:"По заряду"},sortAmount:{en:"By amount",ru:"По количеству"},sortTeam:{en:"By team",ru:"По команде"},sortLevel:{en:"By level",ru:"По уровню"},sortAnotherUselessInformation:{en:"By guard",ru:"По гарду"},hacker:{en:"Discoveries Done",ru:"Проведено изучений"},liberator:{en:"Points Captured",ru:"Захвачено точек"},pioneer:{en:"Unique Points Captured",ru:"Уникальные захваты"},explorer:{en:"Unique Points Visited",ru:"Уникальные посещения"},connector:{en:"Lines Drawn",ru:"Нарисовано линий"},builder:{en:"Cores Deployed",ru:"Проставлено ядер"},purifier:{en:"Cores Destroyed",ru:"Уничтожено ядер"},guardian:{en:"Longest Point Ownership",ru:"Самое долгое владение точкой"},updateFound:{en:"Online update found, consider update the user script to version ",ru:"Найдено обновление, обновите скрипт до версии "},connection:{en:"Connection",ru:"Подключение"},showConnection:{en:"Show",ru:"Показать"},connectionLink:{en:"Link",ru:"Канал"},connectionGrade:{en:"Grade",ru:"Качество"},connectionType:{en:"Type",ru:"Тип"},connectionPing:{en:"Ping",ru:"Пинг"},reloadDialogue:{en:"Settings restored. Reload to apply them right now?",ru:"Настройки восстановлены. Перезагрузить, чтобы применить их?"},perfModeTitle:{en:"Performance mode",ru:"Режим производительности"},perfModeMessage:{en:'Map filters, animations and blur will be disabled.\r\nUse "Carto" layer for dark theme map.',ru:'Будут принудительно отключены:\r\n• Фильтры карты\r\n• Размытия элементов\r\n• Анимации\r\nДля тёмной темы карты используйте подложку "Carto".'},actions:{en:"Actions",ru:"Действия"},showActions:{en:"Show actions 🅰",ru:"Показывать действия 🅰"},actionsCapturedMessage:{en:"owned by ",ru:"принадлежит "},actionsNeutralizedMessage:{en:"lost owner",ru:"потеряла владельца"},actionsDiffMessage:{en:"Some point changed ownership: ",ru:"Несколько точек сменили владельца: "},actionsNeutralizedPrefix:{en:"was ",ru:"была "},actionsNeutralized:{en:"neutralized",ru:"нейтрализована"},actionsCapturedReplacer:{en:"owned",ru:"принадлежит"},donations:{en:"Donations",ru:"Донаты"},donate:{en:"Donate",ru:"Задонатить"},donateDialogue:{en:"Donate amount, ₽",ru:"Введите сумма доната, ₽"},cuiOnMap:{en:"On map",ru:"На карте"},cuiRoute:{en:"Route",ru:"Маршрут"},githubCheckingUpdates:{en:"Checking updates...",ru:"Проверка обновлений..."},githubUnavailable:{en:"Github API is unavailable. Possible network issue.",ru:"Github API недоступен. Возможная проблема c сетью."},clearStore:{en:"Images cache",ru:"Кэш картинок"},clearStoreAction:{en:"Clear",ru:"Очистить"},storeCleared:{en:'Store "{0}" has been cleared',ru:'Хранилище "{0}" очищено'},sharePointButton:{en:"Share",ru:"Поделиться"},copyPosPointButton:{en:"Copy position",ru:"Координаты"},featureFailed:{en:"feature failed. Reason:",ru:"функции неуспешна. Причина:"},progress:{en:"Loading...",ru:"Загрузка..."},progressCui:{en:"Waiting for CUI",ru:"Ждём загрузку CUI"},progressCuiFailed:{en:"CUI seems to be failed! \r\nConfirm to reload or cancel to wait if connection is weak.",ru:"Похоже, CUI не удалось! \r\nПодтвердите для перезагрузки или отмените для ожидания загрузки."},progressCuiFailedReload:{en:"CUI seems to be failed! Force reloading...",ru:"Похоже, CUI не работает! Принудительная перезагрузка..."},speedoMeter:{en:"Show speed",ru:"Показывать скорость"}};function T(e,t=[]){if("object"==typeof e){let o=e[A()]??e[h.DefaultLang]??"[Missing translation]";if(t&&Array.isArray(t)&&t.length)for(let e=0;e<t.length;e++)o=o.replace(`{${e}}`,t[e]);return o}const o=P[e];if(!o)return console.log(`No translations for '${e}' entry`),e;let r=o[A()]??o[h.DefaultLang]??e;if(t&&Array.isArray(t)&&t.length)for(let e=0;e<t.length;e++)r.replace(`{${e}}`,t[e]);return r}const q={Default:T(P.themeDefault),Ingress:T(P.themeIngress),Prime:T(P.themePrime),Mono:T(P.themeMono),EUI:T(P.themeEUI),Arcade:T(P.themeArcade)},B="discoverChanged",D=()=>({target:k.Discover,config:{attributes:!0,attributeFilter:["data-time"]},callback:e=>{const t=new Event(B,{bubbles:!0});e[0].target.dispatchEvent(t)}}),G=async()=>{if(k.InfoPopup&&k.Discover){const e=document.createElement(x.Div);e.className=_.DiscoverProgressClassName,k.Discover.appendChild(e),k.InfoPopup.addEventListener(B,(t=>{let o=t.target.dataset?.time;o?o.replace(T("s"),"")>0?e.style.width=100*o.replace(T("s"),"")/60+"%":o.replace(T("m"),"")>0?e.style.width="100%":e.style.width=0:e.style.width=0}))}},M=new Map,z=(e,t)=>{let o=[];for(let r=e.length;r>0;r--)o.push({tier:e[e.length-r],value:`https://raw.githubusercontent.com/egorantonov/sbg-enhanced/master/assets/64/${t}${r}.png`});return o};M.set(T("hacker"),{images:z([2e5,1e5,3e4,1e4,2e3],"hacker")}),M.set(T("liberator"),{images:z([4e4,15e3,5e3,1e3,100],"liberator")}),M.set(T("pioneer"),{images:z([2e4,5e3,1e3,200,20],"pioneer")}),M.set(T("explorer"),{images:z([3e4,1e4,2e3,1e3,100],"explorer")}),M.set(T("connector"),{images:z([1e5,25e3,5e3,1e3,50],"connector")}),M.set(T("builder"),{images:z([15e4,75e3,22500,7500,1500],"builder")}),M.set(T("purifier"),{images:z([225e3,75e3,22500,7500,1500],"purifier")}),M.set(T("guardian"),{images:z([150,90,20,10,3],"guardian")});const O="eui-badge-container",N=()=>{const e=k.ProfilePopup.querySelector(`.${O}`);e&&e.remove()},R=()=>{const e=k.ProfilePopup?.querySelector("button.popup-close");e?.addEventListener(v.onClick,N)},U=()=>({target:k.ProfileStatsContainer,config:{childList:!0},callback:e=>{if(e.find((e=>e.addedNodes.length&&e.addedNodes[0].classList.contains("pr-stats__section")))){const t=new Event(v.onProfileStatsChanged,{bubbles:!0});e[0].target.dispatchEvent(t)}}}),F=()=>{k.ProfilePopup?.addEventListener(v.onProfileStatsChanged,(()=>{(()=>{N();const e=document.createElement(x.Div);e.className=O,e.style.justifyContent="center",e.style.borderBottom="1px var(--border-transp) solid",k.ProfileStatsContainer?.prepend(e);for(let t=0;t<k.ProfileStats.length;t++){const o=k.ProfileStats[t],r=o.firstChild.innerText;if(M.has(r)){const t=+o.lastChild.innerText.replace(/,|\s|days|day|дней|день|дня/g,""),n=M.get(r).images.find((e=>e.tier<=t)),i=Array.from(M.get(r).images).reverse().find((e=>e.tier>t));if(!n)continue;const a=document.createElement(x.Image);a.className="badge-image",a.src=n.value,a.title=r,a.width=40,a.height=40,a.classList.add(f.CustomTheme);const s=document.createElement(x.Paragraph);s.innerText=t;const l=document.createElement(x.Div);if(l.className="eui-badge",l.style.fontSize="0.5em",l.style.textAlign="center",l.appendChild(s),l.appendChild(a),i){const e=document.createElement(x.Paragraph);e.className="eui-badge-next-tier",e.innerText=i.tier,l.appendChild(e)}e.appendChild(l)}}})()}))};var H=__webpack_require__(923),j=__webpack_require__.n(H);function V(){const e=()=>1==localStorage.getItem(f.Animations),t=document.createElement(x.Input),o=k.SettingSections.at(1);if(o){const e=document.createElement(x.Span);e.innerText=T("animations"),t.type=x.CheckBox,t.dataset.setting=f.Animations,t.disabled=1==localStorage.getItem(f.PerformanceMode);const r=document.createElement(x.Label);r.classList.add(_.SettingsSectionItemClassName),r.appendChild(e),r.appendChild(t),o.appendChild(r),1!=localStorage.getItem(`${f.Animations}${w}`)&&(localStorage.setItem(`${f.Animations}${w}`,1),localStorage.setItem(f.Animations,1),t.checked=!0)}const r=document.createElement(x.Style);r.dataset.id=f.Animations,r.innerHTML=j(),e()&&(document.head.appendChild(r),t.checked=!0),t.addEventListener(v.onChange,(e=>{e.target.checked?(document.head.appendChild(r),localStorage.setItem(f.Animations,1)):(r.remove(),localStorage.setItem(f.Animations,0))})),(()=>{let t,o,r=!1;const n=".deploy-slider-wrp",i=k.InfoPopup?.querySelector(n);k.InfoPopup?.addEventListener(v.onTouchStart,(a=>{if(e())if(1!==a.touches.length||a.target.contains(i)||a.target.closest(n))r=!1;else{const e=a.touches[0];t=e.clientX,o=e.clientY,r=!0}})),k.InfoPopup?.addEventListener(v.onTouchMove,(t=>{r&&e()&&t.preventDefault()})),k.InfoPopup?.addEventListener(v.onTouchEnd,(n=>{if(!r||!e())return;const i=n.changedTouches[0],a=i.clientX-t,s=i.clientY-o;Math.abs(a)<50||Math.abs(s)>70||Math.abs(a)>Math.abs(s)&&a>0&&k.InfoPopupClose.click()}))})(),(()=>{let t,o,r=!1;k.InventoryPopup?.addEventListener(v.onTouchStart,(n=>{if(e())if(1!==n.touches.length)r=!1;else{const e=n.touches[0];t=e.clientX,o=e.clientY,r=!0}})),k.InventoryPopup?.addEventListener(v.onTouchMove,(()=>{r&&e()})),k.InventoryPopup?.addEventListener(v.onTouchEnd,(n=>{if(!r||!e())return;const i=n.changedTouches[0],a=i.clientX-t,s=i.clientY-o;Math.abs(a)<50||Math.abs(s)>70||Math.abs(a)>Math.abs(s)&&a<0&&k.InventoryPopupClose.click()}))})()}const W="percents",Z="value";function J(){!function(e,t,o=1){let r=document.createElement(x.Div);r.className=_.SettingsSectionItemClassName;let n=document.createElement(x.Span);n.innerText=T(e),r.appendChild(n);let i=document.createElement(x.Input);i.id=t,i.setAttribute("type","range"),i.setAttribute("min","0"),i.setAttribute("max","1"),i.setAttribute("step","0.01"),r.appendChild(i);const a=k.GetSelector("label.settings-section__item:has(span.regions-opacity__range)");if(!a)return;a.before(r);const s=localStorage.getItem(t);i.setAttribute(Z,s??o),i.setAttribute(W,(100*(s??o)).toFixed(0)),X(t,s??o),i.disabled=1==localStorage.getItem(f.PerformanceMode),i.addEventListener(v.onChange,(e=>{X(t,e.target.value),i.setAttribute(Z,e.target.value),i.setAttribute(W,(100*e.target.value).toFixed(0)),localStorage.setItem(t,e.target.value)}))}(T(P.linesOpacity),f.LinksOpacity),function(){const e=k.GetSelector("span.regions-opacity__range>input[type=range]");if(!e)return;e.setAttribute("min",0),e.setAttribute("max",15);const t=p().opacity??2;e.setAttribute(Z,t),e.setAttribute(W,(100*t/15).toFixed(0)),e.addEventListener(v.onChange,(t=>{e.setAttribute(Z,t.target.value),e.setAttribute(W,(100*t.target.value/15).toFixed(0))})),k.GetId("regions-opacity__cur")?.remove()}()}function X(e,t){document.documentElement.style.setProperty(`--${e}`,t)}var Y=__webpack_require__(880),Q=__webpack_require__.n(Y),K=__webpack_require__(912),ee=__webpack_require__.n(K),te=__webpack_require__(168),oe=__webpack_require__.n(te),re=__webpack_require__(522),ne=__webpack_require__.n(re),ie=__webpack_require__(905),ae=__webpack_require__.n(ie);class se{constructor(e,t,o){this.title=e,this.code=t,this.innerHTML=o}title="";code=0;innerHTML=""}function le(){const e=window.i18next,t=`i18next_${A()}-main`;(t=>{if(e){e.addResources(e.resolvedLanguage,"main",{"buttons.references.manage":"","buttons.references.view":"","items.catalyser-short":"{{level}}","items.core-short":"{{level}}"});let o=JSON.parse(localStorage.getItem(t));o&&e.resolvedLanguage==h.DefaultLang&&(o.items.types.references="Refs",localStorage.setItem(t,JSON.stringify(o)))}})(t);const o=document.createElement(x.Select),r=[new se(q.EUI,0,ne()),new se(q.Ingress,1,ee()),new se(q.Prime,2,oe()),new se(q.Mono,3,Q()),new se(q.Arcade,4,`${ne()}\r\n${ae()}`)],n=k.SettingSections.at(0);if(n){const e=document.createElement(x.Span);e.innerText=T(P.colorScheme),r.forEach((e=>{let t=document.createElement(x.Option);t.value=e.code,t.innerText=e.title,4==e.code&&"Safari"==y.GetUserAgentData.browser&&t.toggleAttribute("disabled"),o.appendChild(t)})),o.id=f.CustomTheme,o.dataset.setting=f.CustomTheme;const t=document.createElement(x.Label);t.classList.add(_.SettingsSectionItemClassName),t.appendChild(e),t.appendChild(o),n.appendChild(t)}if(1!=localStorage.getItem(`${f.CustomTheme}${w}`)||!(localStorage.getItem(f.CustomTheme)<r.length)){localStorage.setItem(`${f.CustomTheme}${w}`,1),localStorage.setItem(f.CustomTheme,r.find((e=>e.title===q.EUI)).code),document.documentElement.dataset.theme=_.Auto;let e=p();e&&(e.theme=_.Auto,u(e))}const i=document.createElement(x.Style);i.dataset.id=f.CustomTheme,document.head.appendChild(i);const a=localStorage.getItem(f.CustomTheme);function s(){(()=>{const e=k.GetSelector('.settings select[data-setting="theme"]');e.value="dark",e.dispatchEvent(new Event("change")),e.disabled=!0})(),(e=>{let t=JSON.parse(localStorage.getItem(e));t&&(t.buttons.discover=T(P.discover),t.buttons.deploy=T(P.deploy),t.buttons.repair=T(P.repair),t.buttons.draw=T(P.draw),t.info.refs="🔑 {{count}}/100",t.info.lines=T(P.lines),t.info.regions=T(P.fields),localStorage.setItem(e,JSON.stringify(t)))})(t)}if(i.innerHTML=r[+a].innerHTML,o.selectedIndex=+a,1==a||2==a?s():0!=a&&4!=a||function(){const e=k.GetId("deploy-slider-track");e?.after(k.GetId("deploy"));const t=k.GetSelector("#deploy-slider>.splide__arrows");t&&t.remove();let o=document.createElement("div");o.id="bottom";const r=k.InfoPopupClose,n=k.GetId("draw"),i=k.GetId("repair"),a=k.GetSelector(".sbgcui_navbutton"),s=k.GetSelector(".sbgcui_jumpToButton");if(r.after(o),o.appendChild(r),n&&r.before(n),n){if(r.after(i),a)a.innerText=T(P.cuiRoute),n.before(a);else{const e=k.GetId("i-share");e.dataset.i18n=T(P.sharePointButton),n.before(e)}if(s)s.innerText=T(P.cuiOnMap),i.after(s);else{const e=k.GetId("i-copy-pos");e.dataset.i18n=T(P.copyPosPointButton),i.after(e)}}const l=k.InventoryPopupClose;if(l&&(l.innerText=f.CloseButtonText),I.Loaded){const e=k.GetId("i-stat__owner");e?.addEventListener("pointOwnerChanged",(()=>{const t=Array.from(document.querySelectorAll("#bottom>button"));t.push(k.Discover),t.forEach((t=>{t.style.backgroundColor="var(--team-0)"===e.style.color?"var(--sbgcui-branding-color)":e.style.color}))})),k.ProfilePopup.addEventListener("profilePopupOpened",(()=>{const e=k.GetId("pr-name");document.querySelectorAll(".profile.popup button").forEach((t=>{t.style.backgroundColor=e.style.color})),document.querySelectorAll(".profile.popup .pr-stats__section-header").forEach((t=>{t.style.color=e.style.color}))}))}}(),o.addEventListener(v.onChange,(e=>{const o=e.target.value;1==o||2==o?s():localStorage.removeItem(t),localStorage.setItem(f.CustomTheme,o),i.innerHTML=r[+o].innerHTML,k.SettingsPopupClose.click(),location.reload()})),S()){const e=k.GetSelector("button.sbgcui_show_viewer");e&&(e.innerText="🌍",e.style.minWidth="40px")}}var ce=__webpack_require__(558),de=__webpack_require__.n(ce);function pe(){const e=document.createElement(x.Input),t=k.SettingSections.at(1);if(t){const o=document.createElement(x.Span);o.innerText=T("highContrast"),e.type=x.CheckBox,e.dataset.setting=f.HighContrast;const r=document.createElement(x.Label);r.classList.add(_.SettingsSectionItemClassName),r.appendChild(o),r.appendChild(e),t.appendChild(r)}const o=document.createElement(x.Style);o.dataset.id=f.HighContrast,o.innerHTML=de(),1==localStorage.getItem(f.HighContrast)&&(document.head.appendChild(o),e.checked=!0),e.addEventListener(v.onChange,(e=>{e.target.checked?(document.head.appendChild(o),localStorage.setItem(f.HighContrast,1)):(o.remove(),localStorage.setItem(f.HighContrast,0))}))}function ue(e,t,o=1500){e&&t?e.addEventListener(v.onTouchStart,(()=>{const r=Date.now(),n=setTimeout((()=>{t()}),o??1500);e.addEventListener(v.onTouchEnd,(()=>{Date.now()-r<1e3&&clearTimeout(n)}),{once:!0})})):console.warn("Can't set LongTouch event listener: target or callback is missing!")}let ge=0;async function be(){const e=k.GetSelectorAll(".inventory__tab");let t=[],o=[];const r=()=>k.InventoryContent.dispatchEvent(new Event("scroll")),n=()=>Array.from(k.InventoryContent.querySelectorAll("div.inventory__item")),i=e=>{let t=n();t.forEach((e=>e.classList.remove(_.Hidden))),t.filter((t=>!t.innerText.slice(t.innerText.indexOf(")")+1,t.innerText.indexOf("\n")).trim().toLowerCase().includes(e.toLowerCase()))).forEach((e=>e.classList.add(_.Hidden))),r()},a=document.createElement(x.Input);a.type="search",a.id=f.Search,a.dataset.type=_.ReferenceSearch,a.placeholder=T("searchRefPlaceholder");const s=document.createElement(x.Select);s.id=f.Sort,document.querySelector(".sbgcui_refs-sort-button")?.remove(),document.querySelector(".sbgcui_refs-sort-select")?.remove();const l=[T(P.sortName),`${T(P.sortDist)} +`,`${T(P.sortDist)} -`,`${T(P.sortEnergy)} +`,`${T(P.sortEnergy)} -`,`${T(P.sortAmount)} +`,`${T(P.sortAmount)} -`,`${T(P.sortTeam)} +`,`${T(P.sortTeam)} -`,`${T(P.sortLevel)} +`,`${T(P.sortLevel)} -`,`${T(P.sortAnotherUselessInformation)}`];l.forEach((e=>{let t=document.createElement(x.Option);t.value=e,t.innerText=e,s.appendChild(t)}));const c=document.getElementById("inventory-delete");e.forEach((e=>{e.addEventListener(v.onClick,(()=>{["1","2"].includes(e.dataset.tab)?(o=[],a.dataset.active="0",a.remove(),s.selectedIndex=0,s.disabled=!1,s.remove()):(o=n(),0===t.length&&(t=n()),c?.before(a),a.after(s),a.dataset.active="1",a.value&&i(a.value))}))})),k.InventoryPopupClose?.addEventListener(v.onClick,(()=>{o=[],t=[],s.selectedIndex=0,s.disabled=!1})),k.Ops?.addEventListener(v.onClick,(async()=>{if("1"===a.dataset.active){for(o=[];0===o.length;)await L(200),o=n(),t=n();a.value&&i(a.value)}})),a.addEventListener(v.onInput,(e=>{i(e.target.value)})),ue(s,(()=>{localStorage.removeItem("refs-cache"),b("♻ Refs cache cleared")})),s.addEventListener(v.onChange,(async e=>{ge=+localStorage.getItem(f.Team)||0,s.style.filter="saturate(0.5)",s.disabled=!0,m.log("Starting sorting"),performance.mark("start");const c=e.target.value;if(c===l[0])return o.forEach((e=>e.remove())),o=[],t.forEach((e=>k.InventoryContent?.appendChild(e))),"1"===a.dataset.active&&a.value&&i(a.value),void(s.disabled=!1);if(o=n(),m.log("Loaded refs nodes"),c!==l[5]&&c!==l[6]||o.forEach((e=>{e.dataset.amount=he(e)})),c!==l[5]&&c!==l[6]&&0!==o.filter((e=>!e.classList.contains(_.Loaded))).length){m.log("Fetching info from server");let e=!1;for(;o.find((e=>!e.classList.contains(_.Loaded)));)e||(o.forEach((e=>{!e.classList.contains(_.Hidden)&&e.classList.add(_.Hidden)})),e=!0),r(),m.log("Yet to load: "+o.filter((e=>!e.classList.contains(_.Loaded))).length),await L(250);const t=T(P.groupSeparator),n=T(P.decimalSeparator),i=T(P.kilo),a=T(P.m),s=new RegExp(String.raw`(\s)|(${t})|(${a})`,"g");o.forEach((e=>{e.classList.contains(_.Hidden)&&e.classList.remove(_.Hidden);const o=e.querySelector(".inventory__item-descr").textContent.split(";");e.dataset.level=o[0].split(" ")[1],e.dataset.guard=+(o[4]?.split(" ")[2]??0),e.dataset.dist=parseFloat(o[3].split(" ")[2].replace(s,"").replace(n,".").replace(i,"e3")),e.dataset.team=fe(e),e.dataset.energy=parseFloat(o[2].split(" ")[2].slice(0,-1).replace(t,"").replace(n,"."))}))}m.log("Sorting...");let d=[];d=c===l[1]?o.sort(((e,t)=>e.dataset.dist-t.dataset.dist)):c===l[2]?o.sort(((e,t)=>t.dataset.dist-e.dataset.dist)):c===l[3]?o.sort(((e,t)=>e.dataset.team-t.dataset.team||me(e)-me(t))):c===l[4]?o.sort(((e,t)=>e.dataset.team-t.dataset.team||me(t)-me(e))):c===l[5]?o.sort(((e,t)=>e.dataset.amount-t.dataset.amount)):c===l[6]?o.sort(((e,t)=>t.dataset.amount-e.dataset.amount)):c===l[7]?o.sort(((e,t)=>e.dataset.team-t.dataset.team)):c===l[8]?o.sort(((e,t)=>t.dataset.team-e.dataset.team)):c===l[9]?o.sort(((e,t)=>e.dataset.level-t.dataset.level)):c===l[10]?o.sort(((e,t)=>t.dataset.level-e.dataset.level)):o.sort(((e,t)=>t.dataset.guard-e.dataset.guard)),d.forEach((e=>{k.InventoryContent?.appendChild(e),e.classList.toggle(_.Loading),e.classList.toggle(_.Loading)})),"1"===a.dataset.active&&a.value&&i(a.value),performance.mark("end");const p=performance.measure("time","start","end").duration,u=p<50?o.length:`${o.length} × ${+(p/1e3).toFixed(1)}s`;m.log(u),s.style.filter="none",b(u),s.disabled=!1}))}const me=e=>+e.querySelector(".inventory__item-descr").childNodes[4]?.textContent.replace(",","."),he=e=>{const t=e.querySelector(".inventory__item-title").innerText;return+t.slice(t.indexOf("(x")+2,t.indexOf(")"))},fe=e=>{const t=+e.querySelector(".inventory__item-title").style.color.slice(11,12)||0;return t===ge?-1:t};var ve=__webpack_require__(714),_e=__webpack_require__.n(ve);function xe(){const e=document.createElement(x.Style);e.dataset.id=f.CommonStyles,document.head.appendChild(e),e.innerHTML=_e()}async function we(){const e=e=>{"buttons.cancel"!==e.dataset.i18n&&(e.classList.remove("fa","fa-solid-xmark","sbgcui_button_reset"),e.dataset.round="x"!==e.innerText.toLowerCase(),e.innerText=f.CloseButtonText)},t=k.GetSelectorAll("button.popup-close, button#inventory__close");t.forEach((t=>e(t)));const o=k.GetId("settings-credits");o?.addEventListener(v.onClick,(async()=>{let t=k.GetSelector(".credits.popup .popup-close");for(;!t;)await L(250),t=k.GetSelector(".credits.popup .popup-close");1!=t?.dataset?.round&&e(t)}),{once:!0}),k.GetId("attack-slider-close")?.remove(),document.addEventListener(v.onBackButton,(e=>{e.preventDefault(),t.forEach((e=>e.click())),k.ScorePopup?.classList.add(_.Hidden)}))}let ye;const ke=5,Se="x",Ce=e=>localStorage.setItem(f.ActionsCurrent,JSON.stringify(e)),Ee=3e5,Ie=["⚪","🔴","🟢","🔵"],Le={headers:{authorization:`Bearer ${localStorage.auth}`,"Content-Type":"application/json"}};async function Ae(){const e=document.createElement(x.Input),t=k.GetSelector(".notifs>.popup-header");if(t){const o=document.createElement(x.Span);o.innerText=T(P.showActions),e.type=x.CheckBox,e.dataset.setting=f.Actions;const r=k.GetSelector(".notifs>.popup-close");r&&k.Notifs&&e.addEventListener(v.onClick,(()=>{r.click(),k.Notifs.click()}));const n=document.createElement(x.Label);n.classList.add(_.SettingsSectionItemClassName),n.appendChild(o),n.appendChild(e);const i=document.createElement(x.Div);i.classList.add("notifs-settings"),i.appendChild(n),t.after(i)}const o=1==localStorage.getItem(f.Actions);function r(){ye=setTimeout((()=>{Pe(),r()}),Ee)}o&&k.Settings&&(t.textContent+=`/${T(P.actions)}`,Pe(),r()),e.checked=o,e.addEventListener(v.onChange,(e=>{e.target.checked?(t.textContent+=`/${T(P.actions)}`,localStorage.setItem(f.Actions,1),ye||(Pe(),r())):(t.textContent=t.textContent.replace(`/${T(P.actions)}`,""),localStorage.setItem(f.Actions,0),clearInterval(ye),ye=0)})),function(){const{fetch:e}=window;window.fetch=async(...t)=>{let[o,r]=t;const n=await e(o,r);if(1==localStorage.getItem(f.Actions)&&o.includes("/api/notifs")&&!o.includes("?latest")){const e=n.clone().json().then((e=>{let t=JSON.parse(localStorage.getItem(f.ActionsLog)??"[]");const o=e?.list&&e.list.length?e.list[0].id:0;for(let o=0;o<t.length;o++)e.list.push({na:"n/a"==t[o].o?"":t[o].o,c:t[o].c,g:t[o].g,id:Se,t:t[o].t,ta:t[o].te,ti:new Date(new Date(t[o].timestamp).setSeconds(0,0)).toISOString()});return e.list.length&&(e.list.sort(((e,t)=>Date.parse(t.ti)-Date.parse(e.ti))),e.list[0].id===Se&&(e.list[0].id=o)),e}));n.json=()=>e,setTimeout((()=>{!function(){let e=Array.from(document.querySelectorAll(`div.notifs__entry[data-id="${Se}"]`)),[t,o]=document.querySelectorAll(`div.notifs__entry[data-id="${localStorage["latest-notif"]??0}"]`);o&&(o.classList.remove("latest"),t.dataset.id=Se,e.push(t));for(let t=0;t<e.length;t++){let o=e[t].childNodes[2],r=o.childNodes[0].textContent;o.childNodes[0].textContent=o.childNodes[1].innerText?r.replace(T(P.actionsNeutralizedPrefix),"").replace(T(P.actionsNeutralized),T(P.actionsCapturedReplacer)):r.replace(T(P.actionsNeutralizedPrefix),"").replace("by","").replace(T(P.actionsNeutralized),T(P.actionsNeutralizedMessage).trimStart())}}()}),50)}return n}}()}async function $e(e,t){try{const o=window.ol.proj,r="EPSG:3857",n=2e3,i=15,a=o.fromLonLat([t,e]),[s,l]=o.toLonLat(o.transform([a[0]-n,a[1]-n],r,r)),[c,d]=o.toLonLat(o.transform([a[0]+n,a[1]+n],r,r)),p=`/api/inview?sw=${s},${l}&ne=${c},${d}&z=${i}&l=1&h=4`,u=await fetch(p,Le).then((e=>e.json())).then((e=>(console.log(`${(new Date).toLocaleTimeString()} [Actions] Inview returned ${e.p.length} points`),e.p)));let g=JSON.parse(localStorage.getItem(f.ActionsCurrent)??"[]");g?.length?u?.length&&async function(e,t){let o=new Map(e.map((e=>[e.g,e]))),r=[];if(t.forEach((t=>{let n=o.get(t.g);n?n.t!==t.t&&(r.push(t),n.t=t.t):(e.push(t),o.set(t.g,t))})),e.length>2500&&e.splice(0,e.length-2500),Ce(e),!r.length)return;const n=`${T(P.actionsDiffMessage)}${r.length}`;console.log(n),b(n,"top left");const i=JSON.parse(localStorage.getItem(f.ActionsLog)??"[]"),a=Date.now();for(let e=0;e<r.length;e++){const t=r[e],o=await fetch(`/api/point?guid=${t.g}`,Le).then((e=>e.json())).then((e=>e?.data)),n=0===o.te?`${o.t}${T(P.actionsNeutralizedMessage)}`:`${o.t}${T(P.actionsCapturedMessage)}${Ie[o.te]}${o.o}`,s=0===o.te?`${o.t}<br/>${T(P.actionsNeutralizedMessage)}`:`<span style="color: var(--team-${o.te}); font-weight: bold">${o.o}</span><br/>${o.t}`;i.push({timestamp:a,...o}),console.log(n),e<ke&&b(s,"top left")}i.length>100&&i.splice(0,i.length-100),localStorage.setItem(f.ActionsLog,JSON.stringify(i))}(g,u):Ce(u)}catch(e){console.log(`${(new Date).toLocaleTimeString()} [Actions] Unexpected error during GetInview`),console.error(e)}window.isActionsInProgress=!1}function Pe(){if(window.isActionsInProgress||1!=localStorage.getItem(f.Actions))return;window.isActionsInProgress=!0;const e={enableHighAccuracy:!0,maximumAge:Ee-1,timeout:5e3};navigator.geolocation.getCurrentPosition((function(e){$e(e.coords.latitude,e.coords.longitude)}),(function(){const e=document.getElementById("self-info__coord");if(e?.innerText){const[t,o]=e.innerText.split(", ");$e(t,o)}else console.log("Sorry, no position available."),window.isActionsInProgress=!1}),e)}function Te(){const e=document.createElement(x.Canvas);e.id=f.Avatar,e.style.maxWidth="30px",e.style.position="absolute",e.style.left="7px",k.PrName.before(e),k.ProfilePopup?.addEventListener(v.onProfileStatsChanged,(()=>{!function(e,t){const o="#0000",r=document.getElementById(t),n=r.getContext("2d"),i=Array.from((e=>{let t=0;for(let o=0;o<e.length;o++)t=(t<<5)-t+e.charCodeAt(o),t|=0;return btoa(`${Math.abs(t)}`.padStart(10,"0")).slice(1,-2)})(e)).map((e=>e.charCodeAt(0).toString(2).padStart(8,"0"))).join(""),a=Math.ceil(Math.sqrt(i.length));r.width=10*a+20,r.height=10*a+20,n.fillStyle=o,n.fillRect(0,0,r.width,r.height),((e,t,r,n)=>{for(let i=0;i<r;i++)for(let a=0;a<r/2;a++){const s=i*r+a;if(s>=t.length)break;let l="1"===t[s]?window.getComputedStyle(k.PrName).color:o;e.fillStyle=l,e.fillRect(a*n+10,i*n+10,n,n),e.fillRect((r-a-1)*n+10,i*n+10,n,n)}})(n,i,a,10),n.strokeStyle=o,n.lineWidth=10,n.strokeRect(5,5,r.width-10,r.height-10)}(k.PrName.innerText,e.id)}))}const qe=new class{Get=e=>this[e];Set=(e,t)=>{this[e]=t};IsPrivate=()=>document.getElementById("self-info__name").innerText===String.fromCharCode(101,121,101,109,97,120);IsWebView=()=>window.navigator.userAgent.toLowerCase().includes("wv");get CUI(){return{Detected:()=>window.cuiStatus||window.TeamColors||window.Catalysers||window.attack_slider||window.deploy_slider||window.draw_slider||window.requestEntities||window.cl||window.onerror||cuiElements()?.length,Loaded:()=>"loaded"==window.cuiStatus||window.TeamColors&&window.Catalysers&&window.attack_slider&&window.deploy_slider&&window.draw_slider&&window.requestEntities&&cuiElements()?.length&&lastElement()}}},Be={images:"images"},De="eui-db",Ge=[Be.images],Me=1,ze={readwrite:"readwrite",readonly:"readonly"};async function Oe(e,t){(qe.Get(Ge[0])??[]).push(t),window.indexedDB.open(De,Me).onsuccess=o=>{const r=o.target.result.transaction([e],ze.readwrite).objectStore(e).add(t);r.onsuccess=function(){m.log("Entry added successfully")},r.onerror=function(e){m.error("Error adding entry: ",e.target.error)}}}const Ne="currentImage",Re="get";function Ue(){!function(){const e=window.indexedDB.open(De,Me);e.onupgradeneeded=function(e){const t=e.target.result;for(let e=0;e<Ge.length;e++){const o=Ge[e];t.objectStoreNames.contains(o)?t.deleteObjectStore(o):t.createObjectStore(o,{keyPath:"key",autoIncrement:!1})}},e.onerror=e=>{const t=e.target.error;m.error(`Ошибка при открытии БД ${De}: ${t.message}`,t)},e.onsuccess=e=>{const t=e.target.result.transaction(Ge,ze.readonly).objectStore(Ge[0]).getAll();t.onsuccess=()=>{const e=t.result??[];m.log(`${e?.length} images cached in memory`),qe.Set(Ge[0],e)},t.onerror=e=>m.error(`Ошибка получения данных БД ${e.target.error.message}`,e.target.error)}}();const{fetch:e}=window;window.fetch=async(...t)=>{let[o,r]=t;const n=await e(o,r);if(r?.method===Re&&o.includes("/api/point")&&!o.includes("status=1")){const e=n.clone().json().then((e=>{const t=`${h.GooglePhoto}${e.data.i}`;return qe.Set(Ne,""),function(e,t){!function(e,t,o){!function(e,t,o){let r;const n=qe.Get(e);n?.length&&(r=n.find((e=>e.key===t))),o(r)}(Be.images,t,(r=>{if(r&&r.value)qe.Set(Ne,r.value);else{const r=new Image;r.crossOrigin="anonymous",r.src=t,r.onload=async function(){const r=await We(t);qe.Set(Ne,r),Oe(Be.images,{key:t,value:r,id:o});const n=e.id;document.getElementById(n).style.backgroundImage=`url("${r}")`,m.log(`Cached [${t}]`)},r.onerror=function(){m.error("Failed to load image:",t)}}}))}(k.GetId(He),e,t)}(t,e.data.g),e.data.i=null,e}));n.json=()=>e}else if(r?.method===Re&&o.includes("/api/draw")&&!o.includes("&sbgcuiPossibleLinesCheck=")){const e=n.clone().json().then((e=>{const t=qe.Get(Be.images)??[];e.data?.length||m.error("Неожиданный ответ сервера!",e);for(let o=0;o<e.data.length;o++){const r=e.data[o],n=`${h.GooglePhoto}${r.i}`,i=t.find((e=>e.key===n));i?(r.i=null,setTimeout((async()=>{document.querySelector(`#refs-list>li.splide__slide[data-point="${r.p}"]`).querySelector(".refs-list__image").firstChild.style.backgroundImage=`url("${i.value}")`}),0)):Ve(n,r.p)}return e}));n.json=()=>e}return n};const t=document.createElement(x.Span);t.id="eui-images",t.innerText=T(P.clearStore);const o=document.createElement(x.Button);o.innerText=T(P.clearStoreAction),o.addEventListener(v.onClick,(()=>{var e,o;e=Be.images,o=e=>{t.removeAttribute("data-size");const o=T(P.storeCleared,[e]);m.log(o),b(o)},indexedDB.open(De,Me).onsuccess=t=>{const r=t.target.result.transaction([e],ze.readwrite).objectStore(e).clear();r.onsuccess=()=>{o(e)},r.onerror=()=>m.error(`Ошибка удаления данных БД ${r.error.message}`,r.error)}}));const r=document.createElement(x.Div);var n,i;r.classList.add(_.SettingsSectionItemClassName),r.appendChild(t),r.appendChild(o),k.SettingSections.at(0)?.appendChild(r),n=Be.images,i=e=>{t.dataset.size=e/10},indexedDB.open(De,Me).onsuccess=e=>{const t=e.target.result;t.objectStoreNames.contains(n)||t.createObjectStore(n,{keyPath:"key",autoIncrement:!1});const o=t.transaction([n],ze.readwrite).objectStore(n).count();o.onsuccess=()=>{i(o.result)},o.onerror=()=>m.error(`Ошибка подсчёта данных БД ${o.error.message}`,o.error)},document.querySelector(".inventory__content")?.addEventListener(v.onScroll,(e=>Fe(e.target)));const a=document.getElementById("ops");if(a?.addEventListener(v.onClick,(()=>{setTimeout((async()=>Fe(document.querySelector(".inventory__content"))),150)})),I.Loaded()){const e=document.createElement(x.Button);e.id="eui-hide",e.addEventListener(v.onClick,(()=>{k.InventoryPopup.classList.contains(_.Hidden)&&k.InventoryPopup.classList.toggle(_.Hidden),history.pushState({page:"1"},"ops","#_ops")})),e.innerText=">",a.addEventListener(v.onClick,(()=>{a?.after(e)}),{once:!0})}document.querySelector('.inventory__tab[data-tab="3"]:not(.active)')?.addEventListener(v.onClick,(()=>Fe(document.querySelector(".inventory__content"))))}function Fe(e){const{scrollTop:t,clientHeight:o}=e,r=qe.Get(Be.images)??[];r.length&&window.$&&window.$(".inventory__item").each(((e,n)=>{if(!window.$(n).attr("data-ref")||window.$(n).hasClass("eui_img"))return;if(!(n.offsetTop<=t+o&&n.offsetTop>=t))return;const i=window.$(n).attr("data-ref"),a=r.find((e=>e.id===i));a?.value&&(n.querySelector(".inventory__item-left").style.background=`linear-gradient(var(--background-transp), var(--background-transp)), url(${a.value})`,n.classList.add("eui_img"))}))}const He="i-image",je=()=>({target:k.GetId(He),config:{attributes:!0,attributeFilter:["style"]},callback:e=>{e.forEach((async e=>{if("style"===e.attributeName){const e=k.GetId(He).style.backgroundImage;e&&e.includes("/photos/no_image.png")&&(k.GetId(He).style.backgroundImage=`url("${qe.Get(Ne)}")`)}}))}});function Ve(e,t){const o=new Image;o.crossOrigin="anonymous",o.src=e,o.onload=async function(){const o=await We(e);Oe(Be.images,{key:e,value:o,id:t}),document.querySelector(`#refs-list>li.splide__slide[data-point="${t}"]`).querySelector(".refs-list__image").firstChild.style.backgroundImage=`url("${o}")`,m.log(`Закэшировано [${e}]`)},o.onerror=function(){m.error("Не удалось загрузить изображение:",e)}}const We=e=>fetch(e).then((e=>e.blob())).then((e=>new Promise(((t,o)=>{const r=new FileReader;r.onloadend=()=>t(r.result),r.onerror=o,r.readAsDataURL(e)}))));async function Ze(){const e=`i18next_${A()}-main`;let t=JSON.parse(localStorage.getItem(e));if(!t)return;t.buttons.references.manage="",t.buttons.references.view="";const o=document.createElement(x.Input),r=k.SettingSections.at(0);if(r){const e=document.createElement(x.Span);e.innerText=T("compactView"),o.type=x.CheckBox,o.dataset.setting=f.CompactView;const t=document.createElement(x.Label);t.classList.add(_.SettingsSectionItemClassName),t.appendChild(e),t.appendChild(o),r.appendChild(t),1!=localStorage.getItem(`${f.CompactView}${w}`)&&(localStorage.setItem(`${f.CompactView}${w}`,1),localStorage.setItem(f.CompactView,1),o.checked=!0)}if(1==localStorage.getItem(f.CompactView)&&k.Settings){for(o.checked=!0;k.Settings.innerText.includes(".");)await L(250);[k.Leaderboard,k.Score,k.Settings,k.Notifs,k.Layers,k.ToggleFollow].forEach((e=>{e.innerText="",e.classList.add("compactview_icon")})),k.ToggleFollow.after(k.Settings),k.ToggleFollow.after(k.Leaderboard),k.ToggleFollow.after(k.Score),k.Attack?.after(k.Ops);const e=k.GetId("self-info__explv");e.innerText.includes("10")&&(e.remove(),k.GetSelector(".attack-slider-highlevel")?.remove(),k.GetId("self-info__exp")?.parentElement?.remove(),k.GetSelector("div.self-info")?.classList.add("compact"))}else[k.Notifs,k.Layers,k.ToggleFollow].forEach((e=>""===e.innerText&&e.classList.add("compactview_icon")));localStorage.setItem(e,JSON.stringify(t)),o.addEventListener(v.onChange,(e=>{localStorage.setItem(f.CompactView,e.target.checked?1:0),k.SettingsPopupClose.click(),location.reload()}));const n=k.GetId("sbgcui_forceclear");n&&ue(k.Ops,(()=>{n.click()}))}var Je=__webpack_require__(655),Xe=__webpack_require__.n(Je);function Ye(){const e=document.createElement(x.Style);e.dataset.id=f.PerformanceMode,e.innerHTML=Xe(),k.GetSelector(".score.popup .score__header").addEventListener(v.onClick,(()=>k.ScorePopup.classList.toggle("hidden"))),function(){const e=document.createElement(x.Div);e.classList.add("force_portrait"),e.dataset.text=`↻ ${T(P.portraitScreen)}`,document.body.appendChild(e)}(),function(){const t=document.createElement(x.Input),o=k.SettingSections.at(0);if(!o)return;const r=document.createElement(x.Span);r.innerText=T("perfModeTitle"),t.type=x.CheckBox,t.dataset.setting=f.PerformanceMode;const n=document.createElement(x.Label);n.classList.add(_.SettingsSectionItemClassName),n.appendChild(r),n.appendChild(t),o.appendChild(n);const i=async()=>{localStorage.getItem(f.PerformanceMode)||alert(T("perfModeMessage")),localStorage.setItem(f.PerformanceMode,1),document.head.append(e),k.GetSelector(`input[data-setting='${f.Animations}']`)?.setAttribute("disabled",!0),k.GetId(f.LinksOpacity)?.setAttribute("disabled",!0),k.GetId(f.RegionsOpacity)?.setAttribute("disabled",!0)};1==localStorage.getItem(f.PerformanceMode)&&(t.checked=!0,i()),t.addEventListener(v.onChange,(t=>{t.target.checked?i():(localStorage.setItem(f.PerformanceMode,0),e.remove(),k.GetSelector(`input[data-setting='${f.Animations}']`)?.toggleAttribute("disabled"),k.GetId(f.LinksOpacity)?.toggleAttribute("disabled"),k.GetId(f.RegionsOpacity)?.toggleAttribute("disabled"))}))}(),function(){const e=document.querySelector(".layers-config__buttons").querySelector("button:not(#layers-config__save):not(.popup-close)");if(e&&(document.querySelector('h4.layers-config__subheader[data-i18n="layers.objects.header"]').before(e),e.classList.add("cui-clear-cache-button")),1==localStorage.getItem(f.CompactView)){const e=document.querySelector(".game-menu button.fa-solid-rotate");e&&k.Layers.after(e)}const t=k.GetSelector('input[name="mapFilters_brandingColor"]');if(t){const e=document.createElement(x.Input);e.type="text",e.style.cssText="\n        width: 100px;\n        margin: 0 auto;\n        padding: 5px;\n        border: none!important;\n        border-radius: var(--radius5);\n        color: var(--sbgcui-branding-color, var(--selection));\n        background: var(--ol-subtle-background-color, #7777);\n        text-transform: uppercase;\n        text-align: center;\n        font-weight: bolder;\n      ",e.value=t.value.replace("#",""),t.after(e),e.addEventListener(v.onInput,(e=>{e.target.value&&/[0-9a-fA-F]{6}/.test(e.target.value)&&(t.value=`#${e.target.value}`)}))}}(),setTimeout((()=>function(){history.pushState({page:"1"},"game","#_game"),window.addEventListener("popstate",(()=>{let e=Array.from(document.querySelectorAll(".popup:not(.hidden)")).at(-1);e&&e.classList.add("hidden")}));const e=["ops","settings","self-info__name","notifs-menu","leaderboard","score","layers"];for(let t=0;t<e.length;t++){const o=e[t],r=document.getElementById(o);r?r.addEventListener(v.onClick,(()=>{history.pushState({page:"1"},o,`#_${o}`)})):m.error(`Element #${o} not found!`)}}()),1e3)}var Qe=__webpack_require__(754);async function Ke(){if(!localStorage.getItem("auth")||C())return;const e=y.GetUserAgentData,t=`${e.platform} ${e.browser}${e.mobile?" (Mobile)":""}`;await L(100);const o=()=>{const e=Object.entries(localStorage).reduce(((e,[t,o])=>t.startsWith("eui")?e.concat({key:t,value:o}):e),[]);return JSON.stringify(e)},r=e=>{for(let t=0;t<e.length;t++)localStorage.setItem(e[t].key,e[t].value)},n=async()=>{let e=localStorage.getItem(f.UserId);if(e&&e.indexOf(".")>0)return e;const t=await fetch("/api/self",{headers:{authorization:`Bearer ${localStorage.getItem("auth")}`,"content-type":"application/json; charset=UTF-8"}}).then((e=>e.json())).then((e=>e.g));return localStorage.setItem(f.UserId,t),t},i=async e=>{const t=o(),r=localStorage.getItem(f.SettingsCache);if(!r||t!==r){let e=p();e.euiSettings=t,u(e)}},a=async(e=!1)=>{if(await n(),e)return void await i();const t=await(async e=>p()?.euiSettings)();if(!t||"string"!=typeof t)return void await i();const o=localStorage.getItem(f.CloudSync);o?Date.now()-+o>6048e5&&await i():(r(JSON.parse(t)),localStorage.setItem(f.CloudSync,Date.now()),confirm(T("reloadDialogue"))&&location.reload())},s=k.SettingSections.at(3);if(s){const e=document.createElement(x.Span);e.innerText=T("importExport");const t=document.createElement(x.Div),n=document.createElement(x.Input);n.hidden=!0,n.type="file",n.id="eui-import-export",t.appendChild(n),n.addEventListener(v.onChange,(e=>(e=>{let t=e.target.files[0];try{const e=new FileReader;e.readAsText(t),e.onload=async function(){console.log(e.result),r(JSON.parse(e.result)),await i(),location.reload()},e.onerror=function(){console.log(e.error),alert("FileReader error")}}catch(e){alert("Unknown error occurred"),console.error(e)}})(e)));const a=document.createElement(x.Button);a.innerText=" ↓ ",t.appendChild(a),a.addEventListener(v.onClick,(()=>n.click()));const l=document.createElement(x.Button);l.innerText=" ↑ ",t.appendChild(l),l.addEventListener(v.onClick,(()=>(()=>{const e=document.createElement(x.Link);e.download="sbg.config";const t=o();let r=new Blob([t],{type:"application/json"});e.href=window.URL.createObjectURL(r),e.click()})()));const c=document.createElement(x.Div);c.classList.add(_.SettingsSectionItemClassName),c.appendChild(e),c.appendChild(t),s.appendChild(c)}function l(e,t,o,r){const n=document.createElement(x.Span);n.innerText=t;const i=document.createElement(x.Span);r&&(i.id=r),i.innerText=o;const a=document.createElement(x.Div);a.classList.add(_.SettingsSectionItemClassName),a.appendChild(n),a.appendChild(i),e.appendChild(a)}s&&(l(s,"User ID",`${(await n()).slice(0,4)}...`,"eui-userId"),l(s,"Client",t,"eui-clientId"),l(s,"GPU",y.GetGPU,"eui-gpu"),k.SettingsPopupClose?.addEventListener(v.onClick,(()=>a(!0))),k.GetId("layers-config__save")?.addEventListener(v.onClick,(()=>a(!0)))),await a()}async function et(){console.log(`SBG Enhanced UI, version ${f.Version}`);const e=await fetch("/api/").then((e=>e.headers.get(h.VersionHeader)));e!=h.CompatibleVersion?"true"!=localStorage.getItem(f.Incompatibility)&&(alert(`⚠️ ${T(P.incompatibility)} (${e})`),localStorage.setItem(f.Incompatibility,!0)):localStorage.setItem(f.Incompatibility,!1);const t=k.SettingSections.at(3);if(t){const e=document.createElement(x.Span);e.innerText=T(P.enhancedUIVersion);const o=document.createElement(x.Span);o.innerText=`v${f.Version}`;const r=document.createElement(x.Div);r.classList.add(_.SettingsSectionItemClassName),r.appendChild(e),r.appendChild(o),t.appendChild(r);const n=navigator.connection;if(n){const e=document.createElement(x.Span);e.innerText=T(P.connection);const o=document.createElement(x.Button);o.innerText=T(P.showConnection),o.addEventListener(v.onClick,(()=>{const e=`\n                ${T(P.connectionPing)}: ${n.rtt}${T("m")}${T("s")},\n                ${T(P.connectionLink)}: ~${n.downlink}mb/s,\n                ${T(P.connectionGrade)}: ${n.effectiveType.toUpperCase()}\n                ${n.type&&"unknown"!==n.type?`, ${T(P.connectionType)}: ${n.type.toUpperCase()}`:""}\n            `;b(e),localStorage.setItem(f.Connection,e)}));const r=document.createElement(x.Div);r.classList.add(_.SettingsSectionItemClassName),r.appendChild(e),r.appendChild(o),setTimeout((()=>t.appendChild(r)),500),localStorage.removeItem(f.Connection)}}localStorage.getItem(f.Team)||fetch("/api/self",{headers:{authorization:`Bearer ${localStorage.auth}`}}).then((e=>e.json())).then((e=>localStorage.setItem(f.Team,e.t??0)))}const tt=()=>({target:k.GetId("i-stat__line-out"),config:{childList:!0},callback:e=>{const t=new Event("pointStatsChanged",{bubbles:!0});e[0].target.dispatchEvent(t),history.pushState({page:"1"},"point","#point")}}),ot=({target:e,config:t,callback:o})=>e&&t&&o&&new MutationObserver(o).observe(e,t);function rt(){[tt(),U(),D(),je()].forEach((e=>ot(e)))}var nt=__webpack_require__(360);let it=0;const at=23;function st(e){if(C())return;const t=lt(),o=document.getElementById(f.ProgressStatus);let r=100*++it/t;r>100&&(r=100),o&&(o.style.width=`${r}%`);const n=document.getElementById(f.ProgressText);n&&e&&(n.textContent=e)}function lt(){let e=+localStorage.getItem(f.ProgressStepsCount);return e||(e=at,localStorage.setItem(f.ProgressStepsCount,at)),e}const ct=()=>{const e=k.GetId("repair");e&&(e.id="eui-repair",e.disabled=!1)};function dt(){const e=k.GetSelector('label.settings-section__item:has(input[data-setting="selfpos"])');if(!e)return;let t;const o=document.createElement(x.Span);o.innerText=T(P.speedoMeter);const r=document.createElement(x.Input);r.type=x.CheckBox,r.dataset.setting=f.SpeedoMeter;const n=document.createElement(x.Label);n.classList.add(_.SettingsSectionItemClassName),n.appendChild(o),n.appendChild(r),e.before(n);const i=document.createElement(x.Div);i.id=f.SpeedoMeter,i.style.cssText="\n    text-align: center;\n    text-shadow: none;\n    font-weight: 700;\n    font-size: 28px;\n    line-height: 48px;\n    width: 48px;\n    height: 48px;\n    color: var(--text);\n    background-color: var(--background-transp);\n    border: 6px solid var(--accent);\n    border-radius: 100px;\n    position: fixed;\n    top: 0;\n    right: 0;\n    margin: 14px;\n    display: none;\n    transition: transform 0.25s ease-in-out;\n  ";const a=k.GetSelector(".self-info");a.appendChild(i);const s=k.GetSelector(".sbgcui_speed"),l=e=>{let t=(3.6*(e.coords.speed??0)).toFixed(0);t!=i.textContent&&(i.textContent=t,i.style.transform=0==t?"translateX(75px)":"none")},c=()=>{localStorage.setItem(f.SpeedoMeter,1),i.style.display="block",a.style.marginRight="64px",i.textContent="",t=navigator.geolocation.watchPosition(l),m.log(`Watch Id is: ${t}`),s&&(s.style.display="none")};1==localStorage.getItem(f.SpeedoMeter)&&(r.checked=!0,c()),r.addEventListener(v.onChange,(e=>e.target.checked?c():(localStorage.setItem(f.SpeedoMeter,0),i.style.display="none",a.style.marginRight="initial",i.textContent="0",navigator.geolocation.clearWatch(t),m.log(`Cleared watch with id: ${t}`),void(s&&(s.style.display="block")))))}var pt=__webpack_require__(706),ut=__webpack_require__.n(pt);function gt(){const e=k.GetId("attack-menu"),t="zen";e&&ue(e,(()=>{k.GetSelector(".ol-control")?.classList.toggle(_.Hidden),k.GetSelector(".self-info")?.classList.toggle(_.Hidden),k.GetSelector(".game-menu")?.classList.toggle(_.Hidden),e.classList.toggle(t),k.Ops.classList.toggle(t),g("Zen mode "+(e.classList.contains(t)?"activated":"disabled"),"top center",4e3)?.showToast()}))}function bt(){const e=k.GetSelector(".fatal-error");return!!e&&(function(){const e=document.createElement(x.Style);e.dataset.id=f.ImmediateStyles;try{document.head?.appendChild(e)}catch(e){m.log(e)}e.innerHTML=ut()}(),e.addEventListener(v.onClick,(()=>location.reload())),!0)}function mt([e,t]){let o=!0;try{e(),m.log(`Executed '${t}' feature`)}catch(r){o=!1;const n=`'${t??e.name}' ${T(P.featureFailed)} ${r.message}`;b(n),m.error(n,r)}return st(t),o}async function ht(e,t){let o=!0;try{await e(),m.log(`Executed '${t}' feature`)}catch(r){const n=`'${t??e.name}' ${T(P.featureFailed)} ${r.message}`;b(n),m.error(n,r),o=!1}return st(t),o}async function ft(){if(bt())return;let e=500,t=1e3;const o=navigator.connection;if(o&&(e+=o.rtt,t+=o.rtt),I.Detected()){st(T(P.progressCui));for(let o=1;o<=30;o++){if(I.Loaded()){e=0,t=100;break}30===o&&(alert(T(P.progressCuiFailedReload)),location.reload()),5===o&&confirm(T(P.progressCuiFailed))&&location.reload(),m.log(`${T(P.progressCui)}, try #${o}...`),await L(1e3)}}await L(e).then((()=>function(){const e=[[xe,"AddStyles"],[pe,"AddHighContrast"],[J,"AddCanvasStyles"],[V,"AddAnimations"],[le,"AddColorScheme"],[Ue,"Cache"],[rt,"InitObservers"],[R,"RemoveBadges"],[F,"RenderBadges"],[Te,"Avatars"],[ct,"RepairButton"],[gt,"ZenMode"],[dt,"Speedometer"],[Qe.R,"EUI Console"]];let t=0;const o=e.length;for(let r=0;r<o;r++)t+=mt(e[r]);m.log(`Executed ${t} of ${o} sync features`)}())),await L(t).then((async()=>await async function(){let e=await Promise.all([ht(et,"Informer"),ht(we,"BeautifyCloseButtons"),ht(Ke,"ImportExport"),ht(be,"AddReferenceSearch"),ht(G,"AddDiscoverProgress"),ht(Ze,"CompactView"),ht(Ye,"Compatibility"),ht(Ae,"Actions")]);nt.Private&&e.push(await ht(nt.Private,"Debug"));let t=e.reduce(((e,t)=>e+t));m.log(`Executed ${t} of ${e.length} async features`)}())).then((()=>function(){if(C())return;const e=document.getElementById(f.Progress);e&&e.remove(),lt()!=it&&localStorage.setItem(f.ProgressStepsCount,it)}()))}async function vt(){if(!bt())if(document.getElementById(f.Progress)||C()||function(){if(C())return;lt();const e=document.createElement(x.Div);e.id=f.Progress,e.classList.add("progress-container"),e.style.cssText="\n    padding: 0;\n    margin: 0;\n    position: fixed;\n    top: 0;\n    z-index: 999;\n    width: 100%;\n    height: 100%;\n    background: var(--background-transp);\n    backdrop-filter: blur(50px) saturate(0);\n    -webkit-backdrop-filter: blur(50px) saturate(0);\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    font-family: system-ui, sans-serif !important;\n  ";const t=document.createElement(x.Div);t.style.cssText="\n    display: block;\n    width: 64px;\n    height: 64px;\n    margin: 32px auto;\n    background: url(https://raw.githubusercontent.com/egorantonov/sbg-enhanced/master/assets/script/64.png) no-repeat;\n  ",e.appendChild(t);const o=document.createElement(x.Div);o.id=f.ProgressText,o.textContent=T(P.progress),e.appendChild(o);const r=document.createElement(x.Div);r.style.cssText="\n    background: #7777;\n    width: 50%;\n    height: 5px;\n    margin-top: 10px;\n    overflow: hidden;\n    border-radius: 10px;\n  ",e.appendChild(r);const n=document.createElement(x.Div);n.id=f.ProgressStatus,n.style="\n    background: linear-gradient(90deg, var(--progress), #00AA77);\n    width: 0;\n    height: 100%;\n    transition: width 0.25s ease-in-out;\n  ",r.appendChild(n),document.body.appendChild(e)}(),k.GetId(f.Id)||C()||!window.fetch)ft();else try{st(T(P.githubCheckingUpdates)),await fetch("https://api.github.com/repos/egorantonov/sbg-enhanced/releases/latest").then((e=>e.json())).then((e=>(e=>{if(!e){const e=T(P.githubUnavailable);return m.log(e),b(e),void ft()}const t=e?.tag_name;if(!t){const t="Can't get an online version of the script";return m.log(t),console.error(JSON.stringify(e)),b(t),void ft()}if(t===f.Version)return m.log("Latest version already loaded"),localStorage.setItem(f.Online,0),void ft();const o=t.split(".").map((e=>+e)),r=f.Version.split(".").map((e=>+e));if(o[0]<r[0]||o[0]===r[0]&&(o[1]<r[1]||o[1]===r[1]&&o[2]<r[2])){const e="Hello, time traveler!";return m.log(e),b(e),localStorage.setItem(f.Online,0),void ft()}m.log(`Online update (${t}) found, trying to inject the script...`),1!=localStorage.getItem(f.Online)&&alert(`${T("updateFound")}${t}`),localStorage.setItem(f.Online,1);const n=document.createElement("script");n.id=f.Id,n.src=`https://github.com/egorantonov/sbg-enhanced/releases/download/${t}/eui.user.js`,n.defer=!0,n.type="text/javascript",document.head.appendChild(n)})(e)))}catch(e){if(["Failed to fetch","NetworkError when attempting to fetch resource."].includes(e.message)){const e=T(P.githubUnavailable);m.log(e),b(e)}m.log(e),ft()}}window.EUI={},nt.Debug&&(0,nt.Debug)(),["interactive","complete"].includes(document.readyState)?vt():window.addEventListener("DOMContentLoaded",(e=>vt()))})()})();